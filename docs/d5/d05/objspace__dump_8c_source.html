<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Ruby: ext/objspace/objspace_dump.c Source File</title>
<link href="../../tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../jquery.js"></script>
<script type="text/javascript" src="../../dynsections.js"></script>
<link href="../../doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Ruby
   &#160;<span id="projectnumber">2.5.0dev(2017-10-22revision60238)</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript" src="../../menudata.js"></script>
<script type="text/javascript" src="../../menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('../../',false,false,'search.php','Search');
});
</script>
<div id="main-nav"></div>
<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="../../dir_31cedd4509e06940f559c1ca2f722e02.html">ext</a></li><li class="navelem"><a class="el" href="../../dir_599861959a7682eccb213bcc1ed4e246.html">objspace</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="headertitle">
<div class="title">objspace_dump.c</div>  </div>
</div><!--header-->
<div class="contents">
<a href="../../d5/d05/objspace__dump_8c.html">Go to the documentation of this file.</a><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;<span class="comment">/**********************************************************************</span></div><div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;<span class="comment">  objspace_dump.c - Heap dumping ObjectSpace extender for MRI.</span></div><div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00005"></a><span class="lineno">    5</span>&#160;<span class="comment">  $Author$</span></div><div class="line"><a name="l00006"></a><span class="lineno">    6</span>&#160;<span class="comment">  created at: Sat Oct 11 10:11:00 2013</span></div><div class="line"><a name="l00007"></a><span class="lineno">    7</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00008"></a><span class="lineno">    8</span>&#160;<span class="comment">  NOTE: This extension library is not expected to exist except C Ruby.</span></div><div class="line"><a name="l00009"></a><span class="lineno">    9</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00010"></a><span class="lineno">   10</span>&#160;<span class="comment">  All the files in this distribution are covered under the Ruby&#39;s</span></div><div class="line"><a name="l00011"></a><span class="lineno">   11</span>&#160;<span class="comment">  license (see the file COPYING).</span></div><div class="line"><a name="l00012"></a><span class="lineno">   12</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00013"></a><span class="lineno">   13</span>&#160;<span class="comment">**********************************************************************/</span></div><div class="line"><a name="l00014"></a><span class="lineno">   14</span>&#160;</div><div class="line"><a name="l00015"></a><span class="lineno">   15</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="../../db/dde/internal_8h.html">internal.h</a>&quot;</span></div><div class="line"><a name="l00016"></a><span class="lineno">   16</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="../../db/d16/debug_8h.html">ruby/debug.h</a>&quot;</span></div><div class="line"><a name="l00017"></a><span class="lineno">   17</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="../../dc/dac/io_8h.html">ruby/io.h</a>&quot;</span></div><div class="line"><a name="l00018"></a><span class="lineno">   18</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="../../d0/daa/gc_8h.html">gc.h</a>&quot;</span></div><div class="line"><a name="l00019"></a><span class="lineno">   19</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="../../d1/d77/node_8h.html">node.h</a>&quot;</span></div><div class="line"><a name="l00020"></a><span class="lineno">   20</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="../../d8/d32/vm__core_8h.html">vm_core.h</a>&quot;</span></div><div class="line"><a name="l00021"></a><span class="lineno">   21</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="../../d4/dec/objspace_8h.html">objspace.h</a>&quot;</span></div><div class="line"><a name="l00022"></a><span class="lineno">   22</span>&#160;</div><div class="line"><a name="l00023"></a><span class="lineno">   23</span>&#160;<span class="keyword">static</span> <a class="code" href="../../de/de6/ruby_2ruby_8h.html#a3c1d4bfc6a81af60bdcb48744c35f760">VALUE</a> sym_output, sym_stdout, sym_string, sym_file;</div><div class="line"><a name="l00024"></a><span class="lineno">   24</span>&#160;<span class="keyword">static</span> <a class="code" href="../../de/de6/ruby_2ruby_8h.html#a3c1d4bfc6a81af60bdcb48744c35f760">VALUE</a> sym_full;</div><div class="line"><a name="l00025"></a><span class="lineno">   25</span>&#160;</div><div class="line"><a name="l00026"></a><span class="lineno"><a class="line" href="../../d3/d94/structdump__config.html">   26</a></span>&#160;<span class="keyword">struct </span><a class="code" href="../../d3/d94/structdump__config.html">dump_config</a> {</div><div class="line"><a name="l00027"></a><span class="lineno"><a class="line" href="../../d3/d94/structdump__config.html#a031075edc085d86ae40ccb01bacd57b2">   27</a></span>&#160;    <a class="code" href="../../de/de6/ruby_2ruby_8h.html#a3c1d4bfc6a81af60bdcb48744c35f760">VALUE</a> <a class="code" href="../../d3/d94/structdump__config.html#a031075edc085d86ae40ccb01bacd57b2">type</a>;</div><div class="line"><a name="l00028"></a><span class="lineno"><a class="line" href="../../d3/d94/structdump__config.html#ac2cac5778f086da36c04e16809742f97">   28</a></span>&#160;    <a class="code" href="../../db/ddf/struct____s_f_i_l_e.html">FILE</a> *<a class="code" href="../../d3/d94/structdump__config.html#ac2cac5778f086da36c04e16809742f97">stream</a>;</div><div class="line"><a name="l00029"></a><span class="lineno"><a class="line" href="../../d3/d94/structdump__config.html#a01820fd3d011d84c3247433d0da374f8">   29</a></span>&#160;    <a class="code" href="../../de/de6/ruby_2ruby_8h.html#a3c1d4bfc6a81af60bdcb48744c35f760">VALUE</a> <a class="code" href="../../d3/d94/structdump__config.html#a01820fd3d011d84c3247433d0da374f8">string</a>;</div><div class="line"><a name="l00030"></a><span class="lineno"><a class="line" href="../../d3/d94/structdump__config.html#a1da71950822132752885d956edcdba0a">   30</a></span>&#160;    <span class="keywordtype">int</span> <a class="code" href="../../d3/d94/structdump__config.html#a1da71950822132752885d956edcdba0a">roots</a>;</div><div class="line"><a name="l00031"></a><span class="lineno"><a class="line" href="../../d3/d94/structdump__config.html#aca2ae6d31f4090360810bd9fcddba442">   31</a></span>&#160;    <span class="keyword">const</span> <span class="keywordtype">char</span> *<a class="code" href="../../d3/d94/structdump__config.html#aca2ae6d31f4090360810bd9fcddba442">root_category</a>;</div><div class="line"><a name="l00032"></a><span class="lineno"><a class="line" href="../../d3/d94/structdump__config.html#a238b4ed49d39e2655942e9003db9375f">   32</a></span>&#160;    <a class="code" href="../../de/de6/ruby_2ruby_8h.html#a3c1d4bfc6a81af60bdcb48744c35f760">VALUE</a> <a class="code" href="../../d3/d94/structdump__config.html#a238b4ed49d39e2655942e9003db9375f">cur_obj</a>;</div><div class="line"><a name="l00033"></a><span class="lineno"><a class="line" href="../../d3/d94/structdump__config.html#a930e29ac7a37207b48470ac6163832a4">   33</a></span>&#160;    <a class="code" href="../../de/de6/ruby_2ruby_8h.html#a3c1d4bfc6a81af60bdcb48744c35f760">VALUE</a> <a class="code" href="../../d3/d94/structdump__config.html#a930e29ac7a37207b48470ac6163832a4">cur_obj_klass</a>;</div><div class="line"><a name="l00034"></a><span class="lineno"><a class="line" href="../../d3/d94/structdump__config.html#a0d2e0f40a08fca6817e9b10b9b63b992">   34</a></span>&#160;    <span class="keywordtype">size_t</span> <a class="code" href="../../d3/d94/structdump__config.html#a0d2e0f40a08fca6817e9b10b9b63b992">cur_obj_references</a>;</div><div class="line"><a name="l00035"></a><span class="lineno"><a class="line" href="../../d3/d94/structdump__config.html#a730cc64a99e14ed6f866ee7d038ba774">   35</a></span>&#160;    <span class="keywordtype">int</span> <a class="code" href="../../d3/d94/structdump__config.html#a730cc64a99e14ed6f866ee7d038ba774">full_heap</a>;</div><div class="line"><a name="l00036"></a><span class="lineno">   36</span>&#160;};</div><div class="line"><a name="l00037"></a><span class="lineno">   37</span>&#160;</div><div class="line"><a name="l00038"></a><span class="lineno">   38</span>&#160;<a class="code" href="../../d5/d05/objspace__dump_8c.html#a1f1bd4139354e743f98448d13e5ae639">PRINTF_ARGS</a>(<span class="keyword">static</span> <span class="keywordtype">void</span> dump_append(<span class="keyword">struct</span> <a class="code" href="../../d3/d94/structdump__config.html">dump_config</a> *, <span class="keyword">const</span> <span class="keywordtype">char</span> *, ...), 2, 3);</div><div class="line"><a name="l00039"></a><span class="lineno">   39</span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span></div><div class="line"><a name="l00040"></a><span class="lineno">   40</span>&#160;dump_append(<span class="keyword">struct</span> <a class="code" href="../../d3/d94/structdump__config.html">dump_config</a> *dc, <span class="keyword">const</span> <span class="keywordtype">char</span> *format, ...)</div><div class="line"><a name="l00041"></a><span class="lineno">   41</span>&#160;{</div><div class="line"><a name="l00042"></a><span class="lineno">   42</span>&#160;    va_list vl;</div><div class="line"><a name="l00043"></a><span class="lineno">   43</span>&#160;    va_start(vl, format);</div><div class="line"><a name="l00044"></a><span class="lineno">   44</span>&#160;</div><div class="line"><a name="l00045"></a><span class="lineno">   45</span>&#160;    <span class="keywordflow">if</span> (dc-&gt;<a class="code" href="../../d3/d94/structdump__config.html#ac2cac5778f086da36c04e16809742f97">stream</a>) {</div><div class="line"><a name="l00046"></a><span class="lineno">   46</span>&#160;        vfprintf(dc-&gt;<a class="code" href="../../d3/d94/structdump__config.html#ac2cac5778f086da36c04e16809742f97">stream</a>, format, vl);</div><div class="line"><a name="l00047"></a><span class="lineno">   47</span>&#160;    }</div><div class="line"><a name="l00048"></a><span class="lineno">   48</span>&#160;    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (dc-&gt;<a class="code" href="../../d3/d94/structdump__config.html#a01820fd3d011d84c3247433d0da374f8">string</a>)</div><div class="line"><a name="l00049"></a><span class="lineno">   49</span>&#160;        <a class="code" href="../../db/d2e/intern_8h.html#a431fe56e927b571beb0a4b76791368a6">rb_str_vcatf</a>(dc-&gt;<a class="code" href="../../d3/d94/structdump__config.html#a01820fd3d011d84c3247433d0da374f8">string</a>, format, vl);</div><div class="line"><a name="l00050"></a><span class="lineno">   50</span>&#160;</div><div class="line"><a name="l00051"></a><span class="lineno">   51</span>&#160;    va_end(vl);</div><div class="line"><a name="l00052"></a><span class="lineno">   52</span>&#160;}</div><div class="line"><a name="l00053"></a><span class="lineno">   53</span>&#160;</div><div class="line"><a name="l00054"></a><span class="lineno">   54</span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span></div><div class="line"><a name="l00055"></a><span class="lineno">   55</span>&#160;dump_append_string_value(<span class="keyword">struct</span> <a class="code" href="../../d3/d94/structdump__config.html">dump_config</a> *dc, <a class="code" href="../../de/de6/ruby_2ruby_8h.html#a3c1d4bfc6a81af60bdcb48744c35f760">VALUE</a> obj)</div><div class="line"><a name="l00056"></a><span class="lineno">   56</span>&#160;{</div><div class="line"><a name="l00057"></a><span class="lineno">   57</span>&#160;    <span class="keywordtype">long</span> i;</div><div class="line"><a name="l00058"></a><span class="lineno">   58</span>&#160;    <span class="keywordtype">char</span> c;</div><div class="line"><a name="l00059"></a><span class="lineno">   59</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">char</span> *value;</div><div class="line"><a name="l00060"></a><span class="lineno">   60</span>&#160;</div><div class="line"><a name="l00061"></a><span class="lineno">   61</span>&#160;    dump_append(dc, <span class="stringliteral">&quot;\&quot;&quot;</span>);</div><div class="line"><a name="l00062"></a><span class="lineno">   62</span>&#160;    <span class="keywordflow">for</span> (i = 0, value = <a class="code" href="../../de/de6/ruby_2ruby_8h.html#a3f0e4e2b6d073369cc1c2ddde00b13bb">RSTRING_PTR</a>(obj); i &lt; <a class="code" href="../../de/de6/ruby_2ruby_8h.html#a0d1c6e4431397f8bd285073af0d98d77">RSTRING_LEN</a>(obj); i++) {</div><div class="line"><a name="l00063"></a><span class="lineno">   63</span>&#160;        <span class="keywordflow">switch</span> ((c = value[i])) {</div><div class="line"><a name="l00064"></a><span class="lineno">   64</span>&#160;          <span class="keywordflow">case</span> <span class="charliteral">&#39;\\&#39;</span>:</div><div class="line"><a name="l00065"></a><span class="lineno">   65</span>&#160;          <span class="keywordflow">case</span> <span class="charliteral">&#39;&quot;&#39;</span>:</div><div class="line"><a name="l00066"></a><span class="lineno">   66</span>&#160;            dump_append(dc, <span class="stringliteral">&quot;\\%c&quot;</span>, c);</div><div class="line"><a name="l00067"></a><span class="lineno">   67</span>&#160;            <span class="keywordflow">break</span>;</div><div class="line"><a name="l00068"></a><span class="lineno">   68</span>&#160;          <span class="keywordflow">case</span> <span class="charliteral">&#39;\0&#39;</span>:</div><div class="line"><a name="l00069"></a><span class="lineno">   69</span>&#160;            dump_append(dc, <span class="stringliteral">&quot;\\u0000&quot;</span>);</div><div class="line"><a name="l00070"></a><span class="lineno">   70</span>&#160;            <span class="keywordflow">break</span>;</div><div class="line"><a name="l00071"></a><span class="lineno">   71</span>&#160;          <span class="keywordflow">case</span> <span class="charliteral">&#39;\b&#39;</span>:</div><div class="line"><a name="l00072"></a><span class="lineno">   72</span>&#160;            dump_append(dc, <span class="stringliteral">&quot;\\b&quot;</span>);</div><div class="line"><a name="l00073"></a><span class="lineno">   73</span>&#160;            <span class="keywordflow">break</span>;</div><div class="line"><a name="l00074"></a><span class="lineno">   74</span>&#160;          <span class="keywordflow">case</span> <span class="charliteral">&#39;\t&#39;</span>:</div><div class="line"><a name="l00075"></a><span class="lineno">   75</span>&#160;            dump_append(dc, <span class="stringliteral">&quot;\\t&quot;</span>);</div><div class="line"><a name="l00076"></a><span class="lineno">   76</span>&#160;            <span class="keywordflow">break</span>;</div><div class="line"><a name="l00077"></a><span class="lineno">   77</span>&#160;          <span class="keywordflow">case</span> <span class="charliteral">&#39;\f&#39;</span>:</div><div class="line"><a name="l00078"></a><span class="lineno">   78</span>&#160;            dump_append(dc, <span class="stringliteral">&quot;\\f&quot;</span>);</div><div class="line"><a name="l00079"></a><span class="lineno">   79</span>&#160;            <span class="keywordflow">break</span>;</div><div class="line"><a name="l00080"></a><span class="lineno">   80</span>&#160;          <span class="keywordflow">case</span> <span class="charliteral">&#39;\n&#39;</span>:</div><div class="line"><a name="l00081"></a><span class="lineno">   81</span>&#160;            dump_append(dc, <span class="stringliteral">&quot;\\n&quot;</span>);</div><div class="line"><a name="l00082"></a><span class="lineno">   82</span>&#160;            <span class="keywordflow">break</span>;</div><div class="line"><a name="l00083"></a><span class="lineno">   83</span>&#160;          <span class="keywordflow">case</span> <span class="charliteral">&#39;\r&#39;</span>:</div><div class="line"><a name="l00084"></a><span class="lineno">   84</span>&#160;            dump_append(dc, <span class="stringliteral">&quot;\\r&quot;</span>);</div><div class="line"><a name="l00085"></a><span class="lineno">   85</span>&#160;            <span class="keywordflow">break</span>;</div><div class="line"><a name="l00086"></a><span class="lineno">   86</span>&#160;          <span class="keywordflow">default</span>:</div><div class="line"><a name="l00087"></a><span class="lineno">   87</span>&#160;            <span class="keywordflow">if</span> (c &lt;= 0x1f)</div><div class="line"><a name="l00088"></a><span class="lineno">   88</span>&#160;                dump_append(dc, <span class="stringliteral">&quot;\\u%04d&quot;</span>, c);</div><div class="line"><a name="l00089"></a><span class="lineno">   89</span>&#160;            <span class="keywordflow">else</span></div><div class="line"><a name="l00090"></a><span class="lineno">   90</span>&#160;                dump_append(dc, <span class="stringliteral">&quot;%c&quot;</span>, c);</div><div class="line"><a name="l00091"></a><span class="lineno">   91</span>&#160;        }</div><div class="line"><a name="l00092"></a><span class="lineno">   92</span>&#160;    }</div><div class="line"><a name="l00093"></a><span class="lineno">   93</span>&#160;    dump_append(dc, <span class="stringliteral">&quot;\&quot;&quot;</span>);</div><div class="line"><a name="l00094"></a><span class="lineno">   94</span>&#160;}</div><div class="line"><a name="l00095"></a><span class="lineno">   95</span>&#160;</div><div class="line"><a name="l00096"></a><span class="lineno">   96</span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span></div><div class="line"><a name="l00097"></a><span class="lineno">   97</span>&#160;dump_append_symbol_value(<span class="keyword">struct</span> <a class="code" href="../../d3/d94/structdump__config.html">dump_config</a> *dc, <a class="code" href="../../de/de6/ruby_2ruby_8h.html#a3c1d4bfc6a81af60bdcb48744c35f760">VALUE</a> obj)</div><div class="line"><a name="l00098"></a><span class="lineno">   98</span>&#160;{</div><div class="line"><a name="l00099"></a><span class="lineno">   99</span>&#160;    dump_append(dc, <span class="stringliteral">&quot;{\&quot;type\&quot;:\&quot;SYMBOL\&quot;, \&quot;value\&quot;:&quot;</span>);</div><div class="line"><a name="l00100"></a><span class="lineno">  100</span>&#160;    dump_append_string_value(dc, <a class="code" href="../../d0/d56/console_8c.html#aed3506ff57e9d594a87b84e02d32b55b">rb_sym2str</a>(obj));</div><div class="line"><a name="l00101"></a><span class="lineno">  101</span>&#160;    dump_append(dc, <span class="stringliteral">&quot;}&quot;</span>);</div><div class="line"><a name="l00102"></a><span class="lineno">  102</span>&#160;}</div><div class="line"><a name="l00103"></a><span class="lineno">  103</span>&#160;</div><div class="line"><a name="l00104"></a><span class="lineno">  104</span>&#160;<span class="keyword">static</span> <span class="keyword">inline</span> <span class="keyword">const</span> <span class="keywordtype">char</span> *</div><div class="line"><a name="l00105"></a><span class="lineno">  105</span>&#160;obj_type(<a class="code" href="../../de/de6/ruby_2ruby_8h.html#a3c1d4bfc6a81af60bdcb48744c35f760">VALUE</a> obj)</div><div class="line"><a name="l00106"></a><span class="lineno">  106</span>&#160;{</div><div class="line"><a name="l00107"></a><span class="lineno">  107</span>&#160;    <span class="keywordflow">switch</span> (<a class="code" href="../../de/de6/ruby_2ruby_8h.html#aee74f540353cd2d77d1cb37a3714bd7d">BUILTIN_TYPE</a>(obj)) {</div><div class="line"><a name="l00108"></a><span class="lineno">  108</span>&#160;<span class="preprocessor">#define CASE_TYPE(type) case T_##type: return #type</span></div><div class="line"><a name="l00109"></a><span class="lineno">  109</span>&#160;        <a class="code" href="../../d5/d05/objspace__dump_8c.html#a1d40db9fddb159101c275ff897073218">CASE_TYPE</a>(NONE);</div><div class="line"><a name="l00110"></a><span class="lineno">  110</span>&#160;        <a class="code" href="../../d5/d05/objspace__dump_8c.html#a1d40db9fddb159101c275ff897073218">CASE_TYPE</a>(NIL);</div><div class="line"><a name="l00111"></a><span class="lineno">  111</span>&#160;        <a class="code" href="../../d5/d05/objspace__dump_8c.html#a1d40db9fddb159101c275ff897073218">CASE_TYPE</a>(OBJECT);</div><div class="line"><a name="l00112"></a><span class="lineno">  112</span>&#160;        <a class="code" href="../../d5/d05/objspace__dump_8c.html#a1d40db9fddb159101c275ff897073218">CASE_TYPE</a>(CLASS);</div><div class="line"><a name="l00113"></a><span class="lineno">  113</span>&#160;        <a class="code" href="../../d5/d05/objspace__dump_8c.html#a1d40db9fddb159101c275ff897073218">CASE_TYPE</a>(ICLASS);</div><div class="line"><a name="l00114"></a><span class="lineno">  114</span>&#160;        <a class="code" href="../../d5/d05/objspace__dump_8c.html#a1d40db9fddb159101c275ff897073218">CASE_TYPE</a>(MODULE);</div><div class="line"><a name="l00115"></a><span class="lineno">  115</span>&#160;        <a class="code" href="../../d5/d05/objspace__dump_8c.html#a1d40db9fddb159101c275ff897073218">CASE_TYPE</a>(FLOAT);</div><div class="line"><a name="l00116"></a><span class="lineno">  116</span>&#160;        <a class="code" href="../../d5/d05/objspace__dump_8c.html#a1d40db9fddb159101c275ff897073218">CASE_TYPE</a>(STRING);</div><div class="line"><a name="l00117"></a><span class="lineno">  117</span>&#160;        <a class="code" href="../../d5/d05/objspace__dump_8c.html#a1d40db9fddb159101c275ff897073218">CASE_TYPE</a>(REGEXP);</div><div class="line"><a name="l00118"></a><span class="lineno">  118</span>&#160;        <a class="code" href="../../d5/d05/objspace__dump_8c.html#a1d40db9fddb159101c275ff897073218">CASE_TYPE</a>(ARRAY);</div><div class="line"><a name="l00119"></a><span class="lineno">  119</span>&#160;        <a class="code" href="../../d5/d05/objspace__dump_8c.html#a1d40db9fddb159101c275ff897073218">CASE_TYPE</a>(HASH);</div><div class="line"><a name="l00120"></a><span class="lineno">  120</span>&#160;        <a class="code" href="../../d5/d05/objspace__dump_8c.html#a1d40db9fddb159101c275ff897073218">CASE_TYPE</a>(STRUCT);</div><div class="line"><a name="l00121"></a><span class="lineno">  121</span>&#160;        <a class="code" href="../../d5/d05/objspace__dump_8c.html#a1d40db9fddb159101c275ff897073218">CASE_TYPE</a>(BIGNUM);</div><div class="line"><a name="l00122"></a><span class="lineno">  122</span>&#160;        <a class="code" href="../../d5/d05/objspace__dump_8c.html#a1d40db9fddb159101c275ff897073218">CASE_TYPE</a>(<a class="code" href="../../db/ddf/struct____s_f_i_l_e.html">FILE</a>);</div><div class="line"><a name="l00123"></a><span class="lineno">  123</span>&#160;        <a class="code" href="../../d5/d05/objspace__dump_8c.html#a1d40db9fddb159101c275ff897073218">CASE_TYPE</a>(FIXNUM);</div><div class="line"><a name="l00124"></a><span class="lineno">  124</span>&#160;        <a class="code" href="../../d5/d05/objspace__dump_8c.html#a1d40db9fddb159101c275ff897073218">CASE_TYPE</a>(<a class="code" href="../../d1/d5c/nkf_8h.html#aa8cecfc5c5c054d2875c03e77b7be15d">TRUE</a>);</div><div class="line"><a name="l00125"></a><span class="lineno">  125</span>&#160;        <a class="code" href="../../d5/d05/objspace__dump_8c.html#a1d40db9fddb159101c275ff897073218">CASE_TYPE</a>(<a class="code" href="../../d1/d5c/nkf_8h.html#aa93f0eb578d23995850d61f7d61c55c1">FALSE</a>);</div><div class="line"><a name="l00126"></a><span class="lineno">  126</span>&#160;        <a class="code" href="../../d5/d05/objspace__dump_8c.html#a1d40db9fddb159101c275ff897073218">CASE_TYPE</a>(DATA);</div><div class="line"><a name="l00127"></a><span class="lineno">  127</span>&#160;        <a class="code" href="../../d5/d05/objspace__dump_8c.html#a1d40db9fddb159101c275ff897073218">CASE_TYPE</a>(<a class="code" href="../../d5/d9f/escape_8c.html#a0a7803909f0c4188761ec0a533eab82e">MATCH</a>);</div><div class="line"><a name="l00128"></a><span class="lineno">  128</span>&#160;        <a class="code" href="../../d5/d05/objspace__dump_8c.html#a1d40db9fddb159101c275ff897073218">CASE_TYPE</a>(SYMBOL);</div><div class="line"><a name="l00129"></a><span class="lineno">  129</span>&#160;        <a class="code" href="../../d5/d05/objspace__dump_8c.html#a1d40db9fddb159101c275ff897073218">CASE_TYPE</a>(RATIONAL);</div><div class="line"><a name="l00130"></a><span class="lineno">  130</span>&#160;        <a class="code" href="../../d5/d05/objspace__dump_8c.html#a1d40db9fddb159101c275ff897073218">CASE_TYPE</a>(COMPLEX);</div><div class="line"><a name="l00131"></a><span class="lineno">  131</span>&#160;        <a class="code" href="../../d5/d05/objspace__dump_8c.html#a1d40db9fddb159101c275ff897073218">CASE_TYPE</a>(IMEMO);</div><div class="line"><a name="l00132"></a><span class="lineno">  132</span>&#160;        <a class="code" href="../../d5/d05/objspace__dump_8c.html#a1d40db9fddb159101c275ff897073218">CASE_TYPE</a>(<a class="code" href="../../d1/daa/transcode__data_8h.html#abde25a67f4046530ae1c572cefeb5869">UNDEF</a>);</div><div class="line"><a name="l00133"></a><span class="lineno">  133</span>&#160;        <a class="code" href="../../d5/d05/objspace__dump_8c.html#a1d40db9fddb159101c275ff897073218">CASE_TYPE</a>(<a class="code" href="../../dd/de6/struct_r_node.html">NODE</a>);</div><div class="line"><a name="l00134"></a><span class="lineno">  134</span>&#160;        <a class="code" href="../../d5/d05/objspace__dump_8c.html#a1d40db9fddb159101c275ff897073218">CASE_TYPE</a>(ZOMBIE);</div><div class="line"><a name="l00135"></a><span class="lineno">  135</span>&#160;<span class="preprocessor">#undef CASE_TYPE</span></div><div class="line"><a name="l00136"></a><span class="lineno">  136</span>&#160;    }</div><div class="line"><a name="l00137"></a><span class="lineno">  137</span>&#160;    <span class="keywordflow">return</span> <span class="stringliteral">&quot;UNKNOWN&quot;</span>;</div><div class="line"><a name="l00138"></a><span class="lineno">  138</span>&#160;}</div><div class="line"><a name="l00139"></a><span class="lineno">  139</span>&#160;</div><div class="line"><a name="l00140"></a><span class="lineno">  140</span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span></div><div class="line"><a name="l00141"></a><span class="lineno">  141</span>&#160;dump_append_special_const(<span class="keyword">struct</span> <a class="code" href="../../d3/d94/structdump__config.html">dump_config</a> *dc, <a class="code" href="../../de/de6/ruby_2ruby_8h.html#a3c1d4bfc6a81af60bdcb48744c35f760">VALUE</a> value)</div><div class="line"><a name="l00142"></a><span class="lineno">  142</span>&#160;{</div><div class="line"><a name="l00143"></a><span class="lineno">  143</span>&#160;    <span class="keywordflow">if</span> (value == <a class="code" href="../../de/de6/ruby_2ruby_8h.html#aacea3516b33941ce8149098e223a7466">Qtrue</a>) {</div><div class="line"><a name="l00144"></a><span class="lineno">  144</span>&#160;        dump_append(dc, <span class="stringliteral">&quot;true&quot;</span>);</div><div class="line"><a name="l00145"></a><span class="lineno">  145</span>&#160;    }</div><div class="line"><a name="l00146"></a><span class="lineno">  146</span>&#160;    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (value == <a class="code" href="../../de/de6/ruby_2ruby_8h.html#aba0717d2689eb68797421a02ab9295c6">Qfalse</a>) {</div><div class="line"><a name="l00147"></a><span class="lineno">  147</span>&#160;        dump_append(dc, <span class="stringliteral">&quot;false&quot;</span>);</div><div class="line"><a name="l00148"></a><span class="lineno">  148</span>&#160;    }</div><div class="line"><a name="l00149"></a><span class="lineno">  149</span>&#160;    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (value == <a class="code" href="../../de/de6/ruby_2ruby_8h.html#aba03c3c4ff187bbda6c4459e2dc9f6c6">Qnil</a>) {</div><div class="line"><a name="l00150"></a><span class="lineno">  150</span>&#160;        dump_append(dc, <span class="stringliteral">&quot;null&quot;</span>);</div><div class="line"><a name="l00151"></a><span class="lineno">  151</span>&#160;    }</div><div class="line"><a name="l00152"></a><span class="lineno">  152</span>&#160;    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="../../de/de6/ruby_2ruby_8h.html#acf2fcf97dcf9c7c35452730eb3e2aeb2">FIXNUM_P</a>(value)) {</div><div class="line"><a name="l00153"></a><span class="lineno">  153</span>&#160;        dump_append(dc, <span class="stringliteral">&quot;%ld&quot;</span>, <a class="code" href="../../de/de6/ruby_2ruby_8h.html#ae9390780cd6d04a2e0ac3d6282cdefea">FIX2LONG</a>(value));</div><div class="line"><a name="l00154"></a><span class="lineno">  154</span>&#160;    }</div><div class="line"><a name="l00155"></a><span class="lineno">  155</span>&#160;    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="../../de/de6/ruby_2ruby_8h.html#a82792465e4fa673f5f556d9f230a6aec">FLONUM_P</a>(value)) {</div><div class="line"><a name="l00156"></a><span class="lineno">  156</span>&#160;        dump_append(dc, <span class="stringliteral">&quot;%#g&quot;</span>, <a class="code" href="../../de/de6/ruby_2ruby_8h.html#aa7311e0d10f373b0bb50c41522dc3981">RFLOAT_VALUE</a>(value));</div><div class="line"><a name="l00157"></a><span class="lineno">  157</span>&#160;    }</div><div class="line"><a name="l00158"></a><span class="lineno">  158</span>&#160;    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="../../de/de6/ruby_2ruby_8h.html#acc70817286a1286e1d8dea44a00f19c7">SYMBOL_P</a>(value)) {</div><div class="line"><a name="l00159"></a><span class="lineno">  159</span>&#160;        dump_append_symbol_value(dc, value);</div><div class="line"><a name="l00160"></a><span class="lineno">  160</span>&#160;    }</div><div class="line"><a name="l00161"></a><span class="lineno">  161</span>&#160;    <span class="keywordflow">else</span> {</div><div class="line"><a name="l00162"></a><span class="lineno">  162</span>&#160;        dump_append(dc, <span class="stringliteral">&quot;{}&quot;</span>);</div><div class="line"><a name="l00163"></a><span class="lineno">  163</span>&#160;    }</div><div class="line"><a name="l00164"></a><span class="lineno">  164</span>&#160;}</div><div class="line"><a name="l00165"></a><span class="lineno">  165</span>&#160;</div><div class="line"><a name="l00166"></a><span class="lineno">  166</span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span></div><div class="line"><a name="l00167"></a><span class="lineno">  167</span>&#160;reachable_object_i(<a class="code" href="../../de/de6/ruby_2ruby_8h.html#a3c1d4bfc6a81af60bdcb48744c35f760">VALUE</a> ref, <span class="keywordtype">void</span> *data)</div><div class="line"><a name="l00168"></a><span class="lineno">  168</span>&#160;{</div><div class="line"><a name="l00169"></a><span class="lineno">  169</span>&#160;    <span class="keyword">struct </span><a class="code" href="../../d3/d94/structdump__config.html">dump_config</a> *dc = (<span class="keyword">struct </span><a class="code" href="../../d3/d94/structdump__config.html">dump_config</a> *)data;</div><div class="line"><a name="l00170"></a><span class="lineno">  170</span>&#160;</div><div class="line"><a name="l00171"></a><span class="lineno">  171</span>&#160;    <span class="keywordflow">if</span> (dc-&gt;<a class="code" href="../../d3/d94/structdump__config.html#a930e29ac7a37207b48470ac6163832a4">cur_obj_klass</a> == ref)</div><div class="line"><a name="l00172"></a><span class="lineno">  172</span>&#160;        <span class="keywordflow">return</span>;</div><div class="line"><a name="l00173"></a><span class="lineno">  173</span>&#160;</div><div class="line"><a name="l00174"></a><span class="lineno">  174</span>&#160;    <span class="keywordflow">if</span> (dc-&gt;<a class="code" href="../../d3/d94/structdump__config.html#a0d2e0f40a08fca6817e9b10b9b63b992">cur_obj_references</a> == 0)</div><div class="line"><a name="l00175"></a><span class="lineno">  175</span>&#160;        dump_append(dc, <span class="stringliteral">&quot;, \&quot;references\&quot;:[\&quot;%p\&quot;&quot;</span>, (<span class="keywordtype">void</span> *)ref);</div><div class="line"><a name="l00176"></a><span class="lineno">  176</span>&#160;    <span class="keywordflow">else</span></div><div class="line"><a name="l00177"></a><span class="lineno">  177</span>&#160;        dump_append(dc, <span class="stringliteral">&quot;, \&quot;%p\&quot;&quot;</span>, (<span class="keywordtype">void</span> *)ref);</div><div class="line"><a name="l00178"></a><span class="lineno">  178</span>&#160;</div><div class="line"><a name="l00179"></a><span class="lineno">  179</span>&#160;    dc-&gt;<a class="code" href="../../d3/d94/structdump__config.html#a0d2e0f40a08fca6817e9b10b9b63b992">cur_obj_references</a>++;</div><div class="line"><a name="l00180"></a><span class="lineno">  180</span>&#160;}</div><div class="line"><a name="l00181"></a><span class="lineno">  181</span>&#160;</div><div class="line"><a name="l00182"></a><span class="lineno">  182</span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span></div><div class="line"><a name="l00183"></a><span class="lineno">  183</span>&#160;dump_append_string_content(<span class="keyword">struct</span> <a class="code" href="../../d3/d94/structdump__config.html">dump_config</a> *dc, <a class="code" href="../../de/de6/ruby_2ruby_8h.html#a3c1d4bfc6a81af60bdcb48744c35f760">VALUE</a> obj)</div><div class="line"><a name="l00184"></a><span class="lineno">  184</span>&#160;{</div><div class="line"><a name="l00185"></a><span class="lineno">  185</span>&#160;    dump_append(dc, <span class="stringliteral">&quot;, \&quot;bytesize\&quot;:%ld&quot;</span>, <a class="code" href="../../de/de6/ruby_2ruby_8h.html#a0d1c6e4431397f8bd285073af0d98d77">RSTRING_LEN</a>(obj));</div><div class="line"><a name="l00186"></a><span class="lineno">  186</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="../../db/dde/internal_8h.html#a0823acc422a6a849b53cf3ae0465b543">STR_EMBED_P</a>(obj) &amp;&amp; !<a class="code" href="../../db/dde/internal_8h.html#a47a46c073102a116dc86fbe598a8694e">STR_SHARED_P</a>(obj) &amp;&amp; (<span class="keywordtype">long</span>)<a class="code" href="../../d1/db0/string_8c.html#a55d6c2547d6412f130174bd6d76b6391">rb_str_capacity</a>(obj) != <a class="code" href="../../de/de6/ruby_2ruby_8h.html#a0d1c6e4431397f8bd285073af0d98d77">RSTRING_LEN</a>(obj))</div><div class="line"><a name="l00187"></a><span class="lineno">  187</span>&#160;        dump_append(dc, <span class="stringliteral">&quot;, \&quot;capacity\&quot;:%&quot;</span><a class="code" href="../../de/de6/ruby_2ruby_8h.html#a2b7b0557dc6cd786df02dafbb51f5292">PRIuSIZE</a>, <a class="code" href="../../d1/db0/string_8c.html#a55d6c2547d6412f130174bd6d76b6391">rb_str_capacity</a>(obj));</div><div class="line"><a name="l00188"></a><span class="lineno">  188</span>&#160;</div><div class="line"><a name="l00189"></a><span class="lineno">  189</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../db/dde/internal_8h.html#a053ebe2487386654339f4de623e5d3a2">is_ascii_string</a>(obj)) {</div><div class="line"><a name="l00190"></a><span class="lineno">  190</span>&#160;        dump_append(dc, <span class="stringliteral">&quot;, \&quot;value\&quot;:&quot;</span>);</div><div class="line"><a name="l00191"></a><span class="lineno">  191</span>&#160;        dump_append_string_value(dc, obj);</div><div class="line"><a name="l00192"></a><span class="lineno">  192</span>&#160;    }</div><div class="line"><a name="l00193"></a><span class="lineno">  193</span>&#160;}</div><div class="line"><a name="l00194"></a><span class="lineno">  194</span>&#160;</div><div class="line"><a name="l00195"></a><span class="lineno">  195</span>&#160;<span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">char</span> *</div><div class="line"><a name="l00196"></a><span class="lineno">  196</span>&#160;imemo_name(<span class="keywordtype">int</span> imemo)</div><div class="line"><a name="l00197"></a><span class="lineno">  197</span>&#160;{</div><div class="line"><a name="l00198"></a><span class="lineno">  198</span>&#160;    <span class="keywordflow">switch</span>(imemo) {</div><div class="line"><a name="l00199"></a><span class="lineno">  199</span>&#160;<span class="preprocessor">#define TYPE_STR(t) case(imemo_##t): return #t</span></div><div class="line"><a name="l00200"></a><span class="lineno">  200</span>&#160;        <a class="code" href="../../d5/d05/objspace__dump_8c.html#a997c6c67d52998edbc9fd20000f55712">TYPE_STR</a>(<a class="code" href="../../d5/df2/win32_8c.html#af973ca20f6594ad664c03daa83867128">env</a>);</div><div class="line"><a name="l00201"></a><span class="lineno">  201</span>&#160;        <a class="code" href="../../d5/d05/objspace__dump_8c.html#a997c6c67d52998edbc9fd20000f55712">TYPE_STR</a>(cref);</div><div class="line"><a name="l00202"></a><span class="lineno">  202</span>&#160;        <a class="code" href="../../d5/d05/objspace__dump_8c.html#a997c6c67d52998edbc9fd20000f55712">TYPE_STR</a>(svar);</div><div class="line"><a name="l00203"></a><span class="lineno">  203</span>&#160;        <a class="code" href="../../d5/d05/objspace__dump_8c.html#a997c6c67d52998edbc9fd20000f55712">TYPE_STR</a>(throw_data);</div><div class="line"><a name="l00204"></a><span class="lineno">  204</span>&#160;        <a class="code" href="../../d5/d05/objspace__dump_8c.html#a997c6c67d52998edbc9fd20000f55712">TYPE_STR</a>(ifunc);</div><div class="line"><a name="l00205"></a><span class="lineno">  205</span>&#160;        <a class="code" href="../../d5/d05/objspace__dump_8c.html#a997c6c67d52998edbc9fd20000f55712">TYPE_STR</a>(memo);</div><div class="line"><a name="l00206"></a><span class="lineno">  206</span>&#160;        <a class="code" href="../../d5/d05/objspace__dump_8c.html#a997c6c67d52998edbc9fd20000f55712">TYPE_STR</a>(ment);</div><div class="line"><a name="l00207"></a><span class="lineno">  207</span>&#160;        <a class="code" href="../../d5/d05/objspace__dump_8c.html#a997c6c67d52998edbc9fd20000f55712">TYPE_STR</a>(iseq);</div><div class="line"><a name="l00208"></a><span class="lineno">  208</span>&#160;      <span class="keywordflow">default</span>:</div><div class="line"><a name="l00209"></a><span class="lineno">  209</span>&#160;        <span class="keywordflow">return</span> <span class="stringliteral">&quot;unknown&quot;</span>;</div><div class="line"><a name="l00210"></a><span class="lineno">  210</span>&#160;<span class="preprocessor">#undef TYPE_STR</span></div><div class="line"><a name="l00211"></a><span class="lineno">  211</span>&#160;    }</div><div class="line"><a name="l00212"></a><span class="lineno">  212</span>&#160;}</div><div class="line"><a name="l00213"></a><span class="lineno">  213</span>&#160;</div><div class="line"><a name="l00214"></a><span class="lineno">  214</span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span></div><div class="line"><a name="l00215"></a><span class="lineno">  215</span>&#160;dump_object(<a class="code" href="../../de/de6/ruby_2ruby_8h.html#a3c1d4bfc6a81af60bdcb48744c35f760">VALUE</a> obj, <span class="keyword">struct</span> <a class="code" href="../../d3/d94/structdump__config.html">dump_config</a> *dc)</div><div class="line"><a name="l00216"></a><span class="lineno">  216</span>&#160;{</div><div class="line"><a name="l00217"></a><span class="lineno">  217</span>&#160;    <span class="keywordtype">size_t</span> memsize;</div><div class="line"><a name="l00218"></a><span class="lineno">  218</span>&#160;    <span class="keyword">struct </span><a class="code" href="../../d6/d88/structallocation__info.html">allocation_info</a> *ainfo;</div><div class="line"><a name="l00219"></a><span class="lineno">  219</span>&#160;    <a class="code" href="../../dd/d7e/structrb__io__t.html">rb_io_t</a> *fptr;</div><div class="line"><a name="l00220"></a><span class="lineno">  220</span>&#160;    <a class="code" href="../../de/de6/ruby_2ruby_8h.html#afa5b9137f051ac26d7ccc8824f178233">ID</a> <a class="code" href="../../d6/d88/structallocation__info.html#a10dd5fb317616095f322389052441aed">flags</a>[<a class="code" href="../../db/dde/internal_8h.html#a6cda8a76296ca54beac8c7de5486bb1a">RB_OBJ_GC_FLAGS_MAX</a>];</div><div class="line"><a name="l00221"></a><span class="lineno">  221</span>&#160;    <span class="keywordtype">size_t</span> n, i;</div><div class="line"><a name="l00222"></a><span class="lineno">  222</span>&#160;</div><div class="line"><a name="l00223"></a><span class="lineno">  223</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../de/de6/ruby_2ruby_8h.html#ac59489a7ed093e29019047d13e79c009">SPECIAL_CONST_P</a>(obj)) {</div><div class="line"><a name="l00224"></a><span class="lineno">  224</span>&#160;        dump_append_special_const(dc, obj);</div><div class="line"><a name="l00225"></a><span class="lineno">  225</span>&#160;        <span class="keywordflow">return</span>;</div><div class="line"><a name="l00226"></a><span class="lineno">  226</span>&#160;    }</div><div class="line"><a name="l00227"></a><span class="lineno">  227</span>&#160;</div><div class="line"><a name="l00228"></a><span class="lineno">  228</span>&#160;    dc-&gt;<a class="code" href="../../d3/d94/structdump__config.html#a238b4ed49d39e2655942e9003db9375f">cur_obj</a> = obj;</div><div class="line"><a name="l00229"></a><span class="lineno">  229</span>&#160;    dc-&gt;<a class="code" href="../../d3/d94/structdump__config.html#a0d2e0f40a08fca6817e9b10b9b63b992">cur_obj_references</a> = 0;</div><div class="line"><a name="l00230"></a><span class="lineno">  230</span>&#160;    dc-&gt;<a class="code" href="../../d3/d94/structdump__config.html#a930e29ac7a37207b48470ac6163832a4">cur_obj_klass</a> = <a class="code" href="../../de/de6/ruby_2ruby_8h.html#aee74f540353cd2d77d1cb37a3714bd7d">BUILTIN_TYPE</a>(obj) == <a class="code" href="../../de/de6/ruby_2ruby_8h.html#a5f1cc49c4da51d5bdffa64be79ff6fb0">T_NODE</a> ? 0 : <a class="code" href="../../de/de6/ruby_2ruby_8h.html#ae374b528d42829890e7debf50cc0730a">RBASIC_CLASS</a>(obj);</div><div class="line"><a name="l00231"></a><span class="lineno">  231</span>&#160;</div><div class="line"><a name="l00232"></a><span class="lineno">  232</span>&#160;    <span class="keywordflow">if</span> (dc-&gt;<a class="code" href="../../d3/d94/structdump__config.html#a238b4ed49d39e2655942e9003db9375f">cur_obj</a> == dc-&gt;<a class="code" href="../../d3/d94/structdump__config.html#a01820fd3d011d84c3247433d0da374f8">string</a>)</div><div class="line"><a name="l00233"></a><span class="lineno">  233</span>&#160;        <span class="keywordflow">return</span>;</div><div class="line"><a name="l00234"></a><span class="lineno">  234</span>&#160;</div><div class="line"><a name="l00235"></a><span class="lineno">  235</span>&#160;    dump_append(dc, <span class="stringliteral">&quot;{\&quot;address\&quot;:\&quot;%p\&quot;, \&quot;type\&quot;:\&quot;%s\&quot;&quot;</span>, (<span class="keywordtype">void</span> *)obj, obj_type(obj));</div><div class="line"><a name="l00236"></a><span class="lineno">  236</span>&#160;</div><div class="line"><a name="l00237"></a><span class="lineno">  237</span>&#160;    <span class="keywordflow">if</span> (dc-&gt;<a class="code" href="../../d3/d94/structdump__config.html#a930e29ac7a37207b48470ac6163832a4">cur_obj_klass</a>)</div><div class="line"><a name="l00238"></a><span class="lineno">  238</span>&#160;        dump_append(dc, <span class="stringliteral">&quot;, \&quot;class\&quot;:\&quot;%p\&quot;&quot;</span>, (<span class="keywordtype">void</span> *)dc-&gt;<a class="code" href="../../d3/d94/structdump__config.html#a930e29ac7a37207b48470ac6163832a4">cur_obj_klass</a>);</div><div class="line"><a name="l00239"></a><span class="lineno">  239</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../d8/d36/group__object.html#ga6d967c0f84c618bc68dacd45fce2826e">rb_obj_frozen_p</a>(obj))</div><div class="line"><a name="l00240"></a><span class="lineno">  240</span>&#160;        dump_append(dc, <span class="stringliteral">&quot;, \&quot;frozen\&quot;:true&quot;</span>);</div><div class="line"><a name="l00241"></a><span class="lineno">  241</span>&#160;</div><div class="line"><a name="l00242"></a><span class="lineno">  242</span>&#160;    <span class="keywordflow">switch</span> (<a class="code" href="../../de/de6/ruby_2ruby_8h.html#aee74f540353cd2d77d1cb37a3714bd7d">BUILTIN_TYPE</a>(obj)) {</div><div class="line"><a name="l00243"></a><span class="lineno">  243</span>&#160;      <span class="keywordflow">case</span> <a class="code" href="../../de/de6/ruby_2ruby_8h.html#a5efefe46b598af6f98c691fead03682d">T_NONE</a>:</div><div class="line"><a name="l00244"></a><span class="lineno">  244</span>&#160;        dump_append(dc, <span class="stringliteral">&quot;}\n&quot;</span>);</div><div class="line"><a name="l00245"></a><span class="lineno">  245</span>&#160;        <span class="keywordflow">return</span>;</div><div class="line"><a name="l00246"></a><span class="lineno">  246</span>&#160;</div><div class="line"><a name="l00247"></a><span class="lineno">  247</span>&#160;      <span class="keywordflow">case</span> <a class="code" href="../../de/de6/ruby_2ruby_8h.html#a5f1cc49c4da51d5bdffa64be79ff6fb0">T_NODE</a>:</div><div class="line"><a name="l00248"></a><span class="lineno">  248</span>&#160;        dump_append(dc, <span class="stringliteral">&quot;, \&quot;node_type\&quot;:\&quot;%s\&quot;&quot;</span>, <a class="code" href="../../dd/d74/iseq_8c.html#a818834c71f4a58f5bd7f0aa142d1b069">ruby_node_name</a>(<a class="code" href="../../d1/d77/node_8h.html#ade12c589b26f55f089dc25d689249c11">nd_type</a>(obj)));</div><div class="line"><a name="l00249"></a><span class="lineno">  249</span>&#160;        <span class="keywordflow">break</span>;</div><div class="line"><a name="l00250"></a><span class="lineno">  250</span>&#160;</div><div class="line"><a name="l00251"></a><span class="lineno">  251</span>&#160;      <span class="keywordflow">case</span> <a class="code" href="../../de/de6/ruby_2ruby_8h.html#a40c9add9d28c6327b4d683101ab1a030">T_IMEMO</a>:</div><div class="line"><a name="l00252"></a><span class="lineno">  252</span>&#160;        dump_append(dc, <span class="stringliteral">&quot;, \&quot;imemo_type\&quot;:\&quot;%s\&quot;&quot;</span>, imemo_name(<a class="code" href="../../db/dde/internal_8h.html#aaca65e5fb338de799690f580d6fcbb50">imemo_type</a>(obj)));</div><div class="line"><a name="l00253"></a><span class="lineno">  253</span>&#160;        <span class="keywordflow">break</span>;</div><div class="line"><a name="l00254"></a><span class="lineno">  254</span>&#160;</div><div class="line"><a name="l00255"></a><span class="lineno">  255</span>&#160;      <span class="keywordflow">case</span> <a class="code" href="../../de/de6/ruby_2ruby_8h.html#ac9aadbc1e9c456506a4d7eef5cdc787e">T_SYMBOL</a>:</div><div class="line"><a name="l00256"></a><span class="lineno">  256</span>&#160;        dump_append_string_content(dc, <a class="code" href="../../d0/d56/console_8c.html#aed3506ff57e9d594a87b84e02d32b55b">rb_sym2str</a>(obj));</div><div class="line"><a name="l00257"></a><span class="lineno">  257</span>&#160;        <span class="keywordflow">break</span>;</div><div class="line"><a name="l00258"></a><span class="lineno">  258</span>&#160;</div><div class="line"><a name="l00259"></a><span class="lineno">  259</span>&#160;      <span class="keywordflow">case</span> <a class="code" href="../../de/de6/ruby_2ruby_8h.html#a22a8c2a4bbaae9b68f65c9bb92fd4e39">T_STRING</a>:</div><div class="line"><a name="l00260"></a><span class="lineno">  260</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="../../db/dde/internal_8h.html#a0823acc422a6a849b53cf3ae0465b543">STR_EMBED_P</a>(obj))</div><div class="line"><a name="l00261"></a><span class="lineno">  261</span>&#160;            dump_append(dc, <span class="stringliteral">&quot;, \&quot;embedded\&quot;:true&quot;</span>);</div><div class="line"><a name="l00262"></a><span class="lineno">  262</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="../../db/dde/internal_8h.html#a8de8d2f6479866e76eeb56f5044fa583">is_broken_string</a>(obj))</div><div class="line"><a name="l00263"></a><span class="lineno">  263</span>&#160;            dump_append(dc, <span class="stringliteral">&quot;, \&quot;broken\&quot;:true&quot;</span>);</div><div class="line"><a name="l00264"></a><span class="lineno">  264</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="../../dd/dd3/group__deprecated__macros.html#ga1ae918b6cc84188a9dc6ab545f732e4d">FL_TEST</a>(obj, <a class="code" href="../../de/de6/ruby_2ruby_8h.html#ad208003f505ffadbfcc5c442486176eea24327f8058e488c0dc3ac93847d49356">RSTRING_FSTR</a>))</div><div class="line"><a name="l00265"></a><span class="lineno">  265</span>&#160;            dump_append(dc, <span class="stringliteral">&quot;, \&quot;fstring\&quot;:true&quot;</span>);</div><div class="line"><a name="l00266"></a><span class="lineno">  266</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="../../db/dde/internal_8h.html#a47a46c073102a116dc86fbe598a8694e">STR_SHARED_P</a>(obj))</div><div class="line"><a name="l00267"></a><span class="lineno">  267</span>&#160;            dump_append(dc, <span class="stringliteral">&quot;, \&quot;shared\&quot;:true&quot;</span>);</div><div class="line"><a name="l00268"></a><span class="lineno">  268</span>&#160;        <span class="keywordflow">else</span></div><div class="line"><a name="l00269"></a><span class="lineno">  269</span>&#160;            dump_append_string_content(dc, obj);</div><div class="line"><a name="l00270"></a><span class="lineno">  270</span>&#160;</div><div class="line"><a name="l00271"></a><span class="lineno">  271</span>&#160;        <span class="keywordflow">if</span> (!<a class="code" href="../../d5/de3/encoding_8h.html#ae5ff9694c99a5306a9415ac51e8c4faa">ENCODING_IS_ASCII8BIT</a>(obj))</div><div class="line"><a name="l00272"></a><span class="lineno">  272</span>&#160;            dump_append(dc, <span class="stringliteral">&quot;, \&quot;encoding\&quot;:\&quot;%s\&quot;&quot;</span>, <a class="code" href="../../d5/de3/encoding_8h.html#a69d59d898802726787a168ef2e0dc92c">rb_enc_name</a>(<a class="code" href="../../d5/db5/encoding_8c.html#aef9c377b2d9d78b9f88e890b77593109">rb_enc_from_index</a>(<a class="code" href="../../d5/de3/encoding_8h.html#a6ba07266a084d7a480377f1472aabfd8">ENCODING_GET</a>(obj))));</div><div class="line"><a name="l00273"></a><span class="lineno">  273</span>&#160;        <span class="keywordflow">break</span>;</div><div class="line"><a name="l00274"></a><span class="lineno">  274</span>&#160;</div><div class="line"><a name="l00275"></a><span class="lineno">  275</span>&#160;      <span class="keywordflow">case</span> <a class="code" href="../../de/de6/ruby_2ruby_8h.html#a8357e81bbb60cb41b0a292a90653a5e5">T_HASH</a>:</div><div class="line"><a name="l00276"></a><span class="lineno">  276</span>&#160;        dump_append(dc, <span class="stringliteral">&quot;, \&quot;size\&quot;:%&quot;</span><a class="code" href="../../de/de6/ruby_2ruby_8h.html#a2b7b0557dc6cd786df02dafbb51f5292">PRIuSIZE</a>, (<span class="keywordtype">size_t</span>)<a class="code" href="../../de/d61/fbuffer_8h.html#ae3d96e4c560161f246a3e0888e1cf831">RHASH_SIZE</a>(obj));</div><div class="line"><a name="l00277"></a><span class="lineno">  277</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="../../dd/dd3/group__deprecated__macros.html#ga1ae918b6cc84188a9dc6ab545f732e4d">FL_TEST</a>(obj, <a class="code" href="../../db/dde/internal_8h.html#a08d43a030aae3122aa9bf140b6779c1e">HASH_PROC_DEFAULT</a>))</div><div class="line"><a name="l00278"></a><span class="lineno">  278</span>&#160;            dump_append(dc, <span class="stringliteral">&quot;, \&quot;default\&quot;:\&quot;%p\&quot;&quot;</span>, (<span class="keywordtype">void</span> *)<a class="code" href="../../de/de6/ruby_2ruby_8h.html#a276259ac25709c4407ced125ce63cd3b">RHASH_IFNONE</a>(obj));</div><div class="line"><a name="l00279"></a><span class="lineno">  279</span>&#160;        <span class="keywordflow">break</span>;</div><div class="line"><a name="l00280"></a><span class="lineno">  280</span>&#160;</div><div class="line"><a name="l00281"></a><span class="lineno">  281</span>&#160;      <span class="keywordflow">case</span> <a class="code" href="../../de/de6/ruby_2ruby_8h.html#abbd332f6f94d77e0a369c7720128639e">T_ARRAY</a>:</div><div class="line"><a name="l00282"></a><span class="lineno">  282</span>&#160;        dump_append(dc, <span class="stringliteral">&quot;, \&quot;length\&quot;:%ld&quot;</span>, <a class="code" href="../../de/de6/ruby_2ruby_8h.html#a0068ed01a16efbb8740e1b0c295b672e">RARRAY_LEN</a>(obj));</div><div class="line"><a name="l00283"></a><span class="lineno">  283</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="../../de/de6/ruby_2ruby_8h.html#a0068ed01a16efbb8740e1b0c295b672e">RARRAY_LEN</a>(obj) &gt; 0 &amp;&amp; <a class="code" href="../../dd/dd3/group__deprecated__macros.html#ga1ae918b6cc84188a9dc6ab545f732e4d">FL_TEST</a>(obj, <a class="code" href="../../de/de6/ruby_2ruby_8h.html#a4f77ed51d02515ee27ce9fca7880ce8f">ELTS_SHARED</a>))</div><div class="line"><a name="l00284"></a><span class="lineno">  284</span>&#160;            dump_append(dc, <span class="stringliteral">&quot;, \&quot;shared\&quot;:true&quot;</span>);</div><div class="line"><a name="l00285"></a><span class="lineno">  285</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="../../de/de6/ruby_2ruby_8h.html#a0068ed01a16efbb8740e1b0c295b672e">RARRAY_LEN</a>(obj) &gt; 0 &amp;&amp; <a class="code" href="../../dd/dd3/group__deprecated__macros.html#ga1ae918b6cc84188a9dc6ab545f732e4d">FL_TEST</a>(obj, <a class="code" href="../../de/de6/ruby_2ruby_8h.html#a8d309634655c99bf1bc617720c068407a903967fc49acc3fa70b905e7dbd20ff5">RARRAY_EMBED_FLAG</a>))</div><div class="line"><a name="l00286"></a><span class="lineno">  286</span>&#160;            dump_append(dc, <span class="stringliteral">&quot;, \&quot;embedded\&quot;:true&quot;</span>);</div><div class="line"><a name="l00287"></a><span class="lineno">  287</span>&#160;        <span class="keywordflow">break</span>;</div><div class="line"><a name="l00288"></a><span class="lineno">  288</span>&#160;</div><div class="line"><a name="l00289"></a><span class="lineno">  289</span>&#160;      <span class="keywordflow">case</span> <a class="code" href="../../de/de6/ruby_2ruby_8h.html#ad04c63d175774c6d6e7dfaf0f0a982c9">T_CLASS</a>:</div><div class="line"><a name="l00290"></a><span class="lineno">  290</span>&#160;      <span class="keywordflow">case</span> <a class="code" href="../../de/de6/ruby_2ruby_8h.html#a6cdc7dfe8f84777325da08a96ae5f795">T_MODULE</a>:</div><div class="line"><a name="l00291"></a><span class="lineno">  291</span>&#160;        <span class="keywordflow">if</span> (dc-&gt;<a class="code" href="../../d3/d94/structdump__config.html#a930e29ac7a37207b48470ac6163832a4">cur_obj_klass</a>)</div><div class="line"><a name="l00292"></a><span class="lineno">  292</span>&#160;            dump_append(dc, <span class="stringliteral">&quot;, \&quot;name\&quot;:\&quot;%s\&quot;&quot;</span>, <a class="code" href="../../de/de6/ruby_2ruby_8h.html#afd98e957d0d96017f7a07dd83772fadc">rb_class2name</a>(obj));</div><div class="line"><a name="l00293"></a><span class="lineno">  293</span>&#160;        <span class="keywordflow">break</span>;</div><div class="line"><a name="l00294"></a><span class="lineno">  294</span>&#160;</div><div class="line"><a name="l00295"></a><span class="lineno">  295</span>&#160;      <span class="keywordflow">case</span> <a class="code" href="../../de/de6/ruby_2ruby_8h.html#a55f295817faf14e42b3cff745a7ac706">T_DATA</a>:</div><div class="line"><a name="l00296"></a><span class="lineno">  296</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="../../de/de6/ruby_2ruby_8h.html#ac167240ec598e32f5ff3cdb902fb98b9">RTYPEDDATA_P</a>(obj))</div><div class="line"><a name="l00297"></a><span class="lineno">  297</span>&#160;            dump_append(dc, <span class="stringliteral">&quot;, \&quot;struct\&quot;:\&quot;%s\&quot;&quot;</span>, <a class="code" href="../../de/de6/ruby_2ruby_8h.html#aa7423675bf99068c658e91a4ba55016c">RTYPEDDATA_TYPE</a>(obj)-&gt;wrap_struct_name);</div><div class="line"><a name="l00298"></a><span class="lineno">  298</span>&#160;        <span class="keywordflow">break</span>;</div><div class="line"><a name="l00299"></a><span class="lineno">  299</span>&#160;</div><div class="line"><a name="l00300"></a><span class="lineno">  300</span>&#160;      <span class="keywordflow">case</span> <a class="code" href="../../de/de6/ruby_2ruby_8h.html#a3d072e0c25cf678e9b8601b957b92eae">T_FLOAT</a>:</div><div class="line"><a name="l00301"></a><span class="lineno">  301</span>&#160;        dump_append(dc, <span class="stringliteral">&quot;, \&quot;value\&quot;:\&quot;%g\&quot;&quot;</span>, <a class="code" href="../../de/de6/ruby_2ruby_8h.html#aa7311e0d10f373b0bb50c41522dc3981">RFLOAT_VALUE</a>(obj));</div><div class="line"><a name="l00302"></a><span class="lineno">  302</span>&#160;        <span class="keywordflow">break</span>;</div><div class="line"><a name="l00303"></a><span class="lineno">  303</span>&#160;</div><div class="line"><a name="l00304"></a><span class="lineno">  304</span>&#160;      <span class="keywordflow">case</span> <a class="code" href="../../de/de6/ruby_2ruby_8h.html#abed71c72d5c3083041d52ad25630270e">T_OBJECT</a>:</div><div class="line"><a name="l00305"></a><span class="lineno">  305</span>&#160;        dump_append(dc, <span class="stringliteral">&quot;, \&quot;ivars\&quot;:%u&quot;</span>, <a class="code" href="../../de/de6/ruby_2ruby_8h.html#afd3b3bb33823e7f8e0196f56e3870dd4">ROBJECT_NUMIV</a>(obj));</div><div class="line"><a name="l00306"></a><span class="lineno">  306</span>&#160;        <span class="keywordflow">break</span>;</div><div class="line"><a name="l00307"></a><span class="lineno">  307</span>&#160;</div><div class="line"><a name="l00308"></a><span class="lineno">  308</span>&#160;      <span class="keywordflow">case</span> <a class="code" href="../../de/de6/ruby_2ruby_8h.html#a0a8afbed81f5fb3930e9d153fbd51737">T_FILE</a>:</div><div class="line"><a name="l00309"></a><span class="lineno">  309</span>&#160;        fptr = <a class="code" href="../../de/de6/ruby_2ruby_8h.html#ac9638ebe62bc0a0246b7b18a3afac833">RFILE</a>(obj)-&gt;fptr;</div><div class="line"><a name="l00310"></a><span class="lineno">  310</span>&#160;        <span class="keywordflow">if</span> (fptr)</div><div class="line"><a name="l00311"></a><span class="lineno">  311</span>&#160;            dump_append(dc, <span class="stringliteral">&quot;, \&quot;fd\&quot;:%d&quot;</span>, fptr-&gt;<a class="code" href="../../dd/d7e/structrb__io__t.html#a0d48f8e91d24ff4f382564b30c1b41c2">fd</a>);</div><div class="line"><a name="l00312"></a><span class="lineno">  312</span>&#160;        <span class="keywordflow">break</span>;</div><div class="line"><a name="l00313"></a><span class="lineno">  313</span>&#160;</div><div class="line"><a name="l00314"></a><span class="lineno">  314</span>&#160;      <span class="keywordflow">case</span> <a class="code" href="../../de/de6/ruby_2ruby_8h.html#ab80c70472770bcae8d33bbf6139262d0">T_ZOMBIE</a>:</div><div class="line"><a name="l00315"></a><span class="lineno">  315</span>&#160;        dump_append(dc, <span class="stringliteral">&quot;}\n&quot;</span>);</div><div class="line"><a name="l00316"></a><span class="lineno">  316</span>&#160;        <span class="keywordflow">return</span>;</div><div class="line"><a name="l00317"></a><span class="lineno">  317</span>&#160;    }</div><div class="line"><a name="l00318"></a><span class="lineno">  318</span>&#160;</div><div class="line"><a name="l00319"></a><span class="lineno">  319</span>&#160;    <a class="code" href="../../d8/d16/gc_8c.html#a7547215fb9ca1da308d9628a45c57120">rb_objspace_reachable_objects_from</a>(obj, reachable_object_i, dc);</div><div class="line"><a name="l00320"></a><span class="lineno">  320</span>&#160;    <span class="keywordflow">if</span> (dc-&gt;<a class="code" href="../../d3/d94/structdump__config.html#a0d2e0f40a08fca6817e9b10b9b63b992">cur_obj_references</a> &gt; 0)</div><div class="line"><a name="l00321"></a><span class="lineno">  321</span>&#160;        dump_append(dc, <span class="stringliteral">&quot;]&quot;</span>);</div><div class="line"><a name="l00322"></a><span class="lineno">  322</span>&#160;</div><div class="line"><a name="l00323"></a><span class="lineno">  323</span>&#160;    <span class="keywordflow">if</span> ((ainfo = <a class="code" href="../../dd/dc9/object__tracing_8c.html#aa31656ab469a99471e199605c8c7a588">objspace_lookup_allocation_info</a>(obj))) {</div><div class="line"><a name="l00324"></a><span class="lineno">  324</span>&#160;        dump_append(dc, <span class="stringliteral">&quot;, \&quot;file\&quot;:\&quot;%s\&quot;, \&quot;line\&quot;:%lu&quot;</span>, ainfo-&gt;<a class="code" href="../../d6/d88/structallocation__info.html#a8c57e9b457daa3df5ac94533421ae236">path</a>, ainfo-&gt;<a class="code" href="../../d6/d88/structallocation__info.html#a8aa9631e461c389fe2840f34e8a0326b">line</a>);</div><div class="line"><a name="l00325"></a><span class="lineno">  325</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="../../de/de6/ruby_2ruby_8h.html#a117741045763c090b26e30a85bd0e0a6">RTEST</a>(ainfo-&gt;<a class="code" href="../../d6/d88/structallocation__info.html#ad0b371ae1bcffb1b41be0da241473264">mid</a>)) {</div><div class="line"><a name="l00326"></a><span class="lineno">  326</span>&#160;            <a class="code" href="../../de/de6/ruby_2ruby_8h.html#a3c1d4bfc6a81af60bdcb48744c35f760">VALUE</a> m = <a class="code" href="../../d0/d56/console_8c.html#aed3506ff57e9d594a87b84e02d32b55b">rb_sym2str</a>(ainfo-&gt;<a class="code" href="../../d6/d88/structallocation__info.html#ad0b371ae1bcffb1b41be0da241473264">mid</a>);</div><div class="line"><a name="l00327"></a><span class="lineno">  327</span>&#160;            dump_append(dc, <span class="stringliteral">&quot;, \&quot;method\&quot;:\&quot;%s\&quot;&quot;</span>, <a class="code" href="../../de/de6/ruby_2ruby_8h.html#a3f0e4e2b6d073369cc1c2ddde00b13bb">RSTRING_PTR</a>(m));</div><div class="line"><a name="l00328"></a><span class="lineno">  328</span>&#160;        }</div><div class="line"><a name="l00329"></a><span class="lineno">  329</span>&#160;        dump_append(dc, <span class="stringliteral">&quot;, \&quot;generation\&quot;:%&quot;</span><a class="code" href="../../de/de6/ruby_2ruby_8h.html#a2b7b0557dc6cd786df02dafbb51f5292">PRIuSIZE</a>, ainfo-&gt;<a class="code" href="../../d6/d88/structallocation__info.html#ab7e55000958cecc13be2b2f2f1fbd4fa">generation</a>);</div><div class="line"><a name="l00330"></a><span class="lineno">  330</span>&#160;    }</div><div class="line"><a name="l00331"></a><span class="lineno">  331</span>&#160;</div><div class="line"><a name="l00332"></a><span class="lineno">  332</span>&#160;    <span class="keywordflow">if</span> ((memsize = <a class="code" href="../../d8/d16/gc_8c.html#a74fc25ea0cc65d6862aeaf0abd05e3ba">rb_obj_memsize_of</a>(obj)) &gt; 0)</div><div class="line"><a name="l00333"></a><span class="lineno">  333</span>&#160;        dump_append(dc, <span class="stringliteral">&quot;, \&quot;memsize\&quot;:%&quot;</span><a class="code" href="../../de/de6/ruby_2ruby_8h.html#a2b7b0557dc6cd786df02dafbb51f5292">PRIuSIZE</a>, memsize);</div><div class="line"><a name="l00334"></a><span class="lineno">  334</span>&#160;</div><div class="line"><a name="l00335"></a><span class="lineno">  335</span>&#160;    <span class="keywordflow">if</span> ((n = <a class="code" href="../../d8/d16/gc_8c.html#aef4172461b7284632711cd79946e566a">rb_obj_gc_flags</a>(obj, flags, <span class="keyword">sizeof</span>(flags))) &gt; 0) {</div><div class="line"><a name="l00336"></a><span class="lineno">  336</span>&#160;        dump_append(dc, <span class="stringliteral">&quot;, \&quot;flags\&quot;:{&quot;</span>);</div><div class="line"><a name="l00337"></a><span class="lineno">  337</span>&#160;        <span class="keywordflow">for</span> (i=0; i&lt;n; i++) {</div><div class="line"><a name="l00338"></a><span class="lineno">  338</span>&#160;            dump_append(dc, <span class="stringliteral">&quot;\&quot;%s\&quot;:true&quot;</span>, <a class="code" href="../../de/de6/ruby_2ruby_8h.html#a0af9eeda7cbbff1e245b671f788d2df8">rb_id2name</a>(flags[i]));</div><div class="line"><a name="l00339"></a><span class="lineno">  339</span>&#160;            <span class="keywordflow">if</span> (i != n-1) dump_append(dc, <span class="stringliteral">&quot;, &quot;</span>);</div><div class="line"><a name="l00340"></a><span class="lineno">  340</span>&#160;        }</div><div class="line"><a name="l00341"></a><span class="lineno">  341</span>&#160;        dump_append(dc, <span class="stringliteral">&quot;}&quot;</span>);</div><div class="line"><a name="l00342"></a><span class="lineno">  342</span>&#160;    }</div><div class="line"><a name="l00343"></a><span class="lineno">  343</span>&#160;</div><div class="line"><a name="l00344"></a><span class="lineno">  344</span>&#160;    dump_append(dc, <span class="stringliteral">&quot;}\n&quot;</span>);</div><div class="line"><a name="l00345"></a><span class="lineno">  345</span>&#160;}</div><div class="line"><a name="l00346"></a><span class="lineno">  346</span>&#160;</div><div class="line"><a name="l00347"></a><span class="lineno">  347</span>&#160;<span class="keyword">static</span> <span class="keywordtype">int</span></div><div class="line"><a name="l00348"></a><span class="lineno">  348</span>&#160;heap_i(<span class="keywordtype">void</span> *vstart, <span class="keywordtype">void</span> *vend, <span class="keywordtype">size_t</span> stride, <span class="keywordtype">void</span> *data)</div><div class="line"><a name="l00349"></a><span class="lineno">  349</span>&#160;{</div><div class="line"><a name="l00350"></a><span class="lineno">  350</span>&#160;    <span class="keyword">struct </span><a class="code" href="../../d3/d94/structdump__config.html">dump_config</a> *dc = (<span class="keyword">struct </span><a class="code" href="../../d3/d94/structdump__config.html">dump_config</a> *)data;</div><div class="line"><a name="l00351"></a><span class="lineno">  351</span>&#160;    <a class="code" href="../../de/de6/ruby_2ruby_8h.html#a3c1d4bfc6a81af60bdcb48744c35f760">VALUE</a> v = (<a class="code" href="../../de/de6/ruby_2ruby_8h.html#a3c1d4bfc6a81af60bdcb48744c35f760">VALUE</a>)vstart;</div><div class="line"><a name="l00352"></a><span class="lineno">  352</span>&#160;    <span class="keywordflow">for</span> (; v != (<a class="code" href="../../de/de6/ruby_2ruby_8h.html#a3c1d4bfc6a81af60bdcb48744c35f760">VALUE</a>)vend; v += stride) {</div><div class="line"><a name="l00353"></a><span class="lineno">  353</span>&#160;        <span class="keywordflow">if</span> (dc-&gt;<a class="code" href="../../d3/d94/structdump__config.html#a730cc64a99e14ed6f866ee7d038ba774">full_heap</a> || <a class="code" href="../../de/de6/ruby_2ruby_8h.html#a1d4c05021aacd8cab989ff60f95ebe2d">RBASIC</a>(v)-&gt;flags)</div><div class="line"><a name="l00354"></a><span class="lineno">  354</span>&#160;            dump_object(v, dc);</div><div class="line"><a name="l00355"></a><span class="lineno">  355</span>&#160;    }</div><div class="line"><a name="l00356"></a><span class="lineno">  356</span>&#160;    <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l00357"></a><span class="lineno">  357</span>&#160;}</div><div class="line"><a name="l00358"></a><span class="lineno">  358</span>&#160;</div><div class="line"><a name="l00359"></a><span class="lineno">  359</span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span></div><div class="line"><a name="l00360"></a><span class="lineno">  360</span>&#160;root_obj_i(<span class="keyword">const</span> <span class="keywordtype">char</span> *category, <a class="code" href="../../de/de6/ruby_2ruby_8h.html#a3c1d4bfc6a81af60bdcb48744c35f760">VALUE</a> obj, <span class="keywordtype">void</span> *data)</div><div class="line"><a name="l00361"></a><span class="lineno">  361</span>&#160;{</div><div class="line"><a name="l00362"></a><span class="lineno">  362</span>&#160;    <span class="keyword">struct </span><a class="code" href="../../d3/d94/structdump__config.html">dump_config</a> *dc = (<span class="keyword">struct </span><a class="code" href="../../d3/d94/structdump__config.html">dump_config</a> *)data;</div><div class="line"><a name="l00363"></a><span class="lineno">  363</span>&#160;</div><div class="line"><a name="l00364"></a><span class="lineno">  364</span>&#160;    <span class="keywordflow">if</span> (dc-&gt;<a class="code" href="../../d3/d94/structdump__config.html#aca2ae6d31f4090360810bd9fcddba442">root_category</a> != <a class="code" href="../../d4/db0/__sdbm_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a> &amp;&amp; category != dc-&gt;<a class="code" href="../../d3/d94/structdump__config.html#aca2ae6d31f4090360810bd9fcddba442">root_category</a>)</div><div class="line"><a name="l00365"></a><span class="lineno">  365</span>&#160;        dump_append(dc, <span class="stringliteral">&quot;]}\n&quot;</span>);</div><div class="line"><a name="l00366"></a><span class="lineno">  366</span>&#160;    <span class="keywordflow">if</span> (dc-&gt;<a class="code" href="../../d3/d94/structdump__config.html#aca2ae6d31f4090360810bd9fcddba442">root_category</a> == <a class="code" href="../../d4/db0/__sdbm_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a> || category != dc-&gt;<a class="code" href="../../d3/d94/structdump__config.html#aca2ae6d31f4090360810bd9fcddba442">root_category</a>)</div><div class="line"><a name="l00367"></a><span class="lineno">  367</span>&#160;        dump_append(dc, <span class="stringliteral">&quot;{\&quot;type\&quot;:\&quot;ROOT\&quot;, \&quot;root\&quot;:\&quot;%s\&quot;, \&quot;references\&quot;:[\&quot;%p\&quot;&quot;</span>, category, (<span class="keywordtype">void</span> *)obj);</div><div class="line"><a name="l00368"></a><span class="lineno">  368</span>&#160;    <span class="keywordflow">else</span></div><div class="line"><a name="l00369"></a><span class="lineno">  369</span>&#160;        dump_append(dc, <span class="stringliteral">&quot;, \&quot;%p\&quot;&quot;</span>, (<span class="keywordtype">void</span> *)obj);</div><div class="line"><a name="l00370"></a><span class="lineno">  370</span>&#160;</div><div class="line"><a name="l00371"></a><span class="lineno">  371</span>&#160;    dc-&gt;<a class="code" href="../../d3/d94/structdump__config.html#aca2ae6d31f4090360810bd9fcddba442">root_category</a> = category;</div><div class="line"><a name="l00372"></a><span class="lineno">  372</span>&#160;    dc-&gt;<a class="code" href="../../d3/d94/structdump__config.html#a1da71950822132752885d956edcdba0a">roots</a>++;</div><div class="line"><a name="l00373"></a><span class="lineno">  373</span>&#160;}</div><div class="line"><a name="l00374"></a><span class="lineno">  374</span>&#160;</div><div class="line"><a name="l00375"></a><span class="lineno">  375</span>&#160;<span class="keyword">static</span> <a class="code" href="../../de/de6/ruby_2ruby_8h.html#a3c1d4bfc6a81af60bdcb48744c35f760">VALUE</a></div><div class="line"><a name="l00376"></a><span class="lineno">  376</span>&#160;dump_output(<span class="keyword">struct</span> <a class="code" href="../../d3/d94/structdump__config.html">dump_config</a> *dc, <a class="code" href="../../de/de6/ruby_2ruby_8h.html#a3c1d4bfc6a81af60bdcb48744c35f760">VALUE</a> opts, <a class="code" href="../../de/de6/ruby_2ruby_8h.html#a3c1d4bfc6a81af60bdcb48744c35f760">VALUE</a> output, <span class="keyword">const</span> <span class="keywordtype">char</span> *filename)</div><div class="line"><a name="l00377"></a><span class="lineno">  377</span>&#160;{</div><div class="line"><a name="l00378"></a><span class="lineno">  378</span>&#160;    <a class="code" href="../../de/de6/ruby_2ruby_8h.html#a3c1d4bfc6a81af60bdcb48744c35f760">VALUE</a> tmp;</div><div class="line"><a name="l00379"></a><span class="lineno">  379</span>&#160;</div><div class="line"><a name="l00380"></a><span class="lineno">  380</span>&#160;    dc-&gt;<a class="code" href="../../d3/d94/structdump__config.html#a730cc64a99e14ed6f866ee7d038ba774">full_heap</a> = 0;</div><div class="line"><a name="l00381"></a><span class="lineno">  381</span>&#160;</div><div class="line"><a name="l00382"></a><span class="lineno">  382</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../de/de6/ruby_2ruby_8h.html#a117741045763c090b26e30a85bd0e0a6">RTEST</a>(opts)) {</div><div class="line"><a name="l00383"></a><span class="lineno">  383</span>&#160;        output = <a class="code" href="../../d1/d04/hash_8c.html#ab7063832c7ed02351e87922a78e35c32">rb_hash_aref</a>(opts, sym_output);</div><div class="line"><a name="l00384"></a><span class="lineno">  384</span>&#160;</div><div class="line"><a name="l00385"></a><span class="lineno">  385</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="../../de/de6/ruby_2ruby_8h.html#aacea3516b33941ce8149098e223a7466">Qtrue</a> == <a class="code" href="../../d1/d04/hash_8c.html#a2c487a168f8d6238fb47a4e5f20ef4d2">rb_hash_lookup2</a>(opts, sym_full, <a class="code" href="../../de/de6/ruby_2ruby_8h.html#aba0717d2689eb68797421a02ab9295c6">Qfalse</a>))</div><div class="line"><a name="l00386"></a><span class="lineno">  386</span>&#160;            dc-&gt;<a class="code" href="../../d3/d94/structdump__config.html#a730cc64a99e14ed6f866ee7d038ba774">full_heap</a> = 1;</div><div class="line"><a name="l00387"></a><span class="lineno">  387</span>&#160;    }</div><div class="line"><a name="l00388"></a><span class="lineno">  388</span>&#160;</div><div class="line"><a name="l00389"></a><span class="lineno">  389</span>&#160;    <span class="keywordflow">if</span> (output == sym_stdout) {</div><div class="line"><a name="l00390"></a><span class="lineno">  390</span>&#160;        dc-&gt;<a class="code" href="../../d3/d94/structdump__config.html#ac2cac5778f086da36c04e16809742f97">stream</a> = stdout;</div><div class="line"><a name="l00391"></a><span class="lineno">  391</span>&#160;        dc-&gt;<a class="code" href="../../d3/d94/structdump__config.html#a01820fd3d011d84c3247433d0da374f8">string</a> = <a class="code" href="../../de/de6/ruby_2ruby_8h.html#aba03c3c4ff187bbda6c4459e2dc9f6c6">Qnil</a>;</div><div class="line"><a name="l00392"></a><span class="lineno">  392</span>&#160;    }</div><div class="line"><a name="l00393"></a><span class="lineno">  393</span>&#160;    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (output == sym_file) {</div><div class="line"><a name="l00394"></a><span class="lineno">  394</span>&#160;        <a class="code" href="../../dd/d7e/structrb__io__t.html">rb_io_t</a> *fptr;</div><div class="line"><a name="l00395"></a><span class="lineno">  395</span>&#160;        <a class="code" href="../../de/de6/ruby_2ruby_8h.html#a9f4acbcae9f1821d167c69e5c429bc1b">rb_require</a>(<span class="stringliteral">&quot;tempfile&quot;</span>);</div><div class="line"><a name="l00396"></a><span class="lineno">  396</span>&#160;        tmp = <a class="code" href="../../dc/dcc/array_8c.html#af3085ceab406e3f4f4b90f383c440d6a">rb_assoc_new</a>(<a class="code" href="../../db/d2e/intern_8h.html#a2b9cc485b0aa1dc270744b8b9eb47569">rb_str_new_cstr</a>(filename), <a class="code" href="../../db/d2e/intern_8h.html#a2b9cc485b0aa1dc270744b8b9eb47569">rb_str_new_cstr</a>(<span class="stringliteral">&quot;.json&quot;</span>));</div><div class="line"><a name="l00397"></a><span class="lineno">  397</span>&#160;        tmp = <a class="code" href="../../d0/d56/console_8c.html#a1aca885823d8c12fc1c51915465aa50f">rb_funcallv</a>(<a class="code" href="../../db/d2e/intern_8h.html#a28a7241d8742ac74f2a914c222c8efc9">rb_path2class</a>(<span class="stringliteral">&quot;Tempfile&quot;</span>), <a class="code" href="../../dc/dcc/array_8c.html#a9cfa42d4b79c89d68c53be8b2150a503">rb_intern</a>(<span class="stringliteral">&quot;create&quot;</span>), 1, &amp;tmp);</div><div class="line"><a name="l00398"></a><span class="lineno">  398</span>&#160;      io:</div><div class="line"><a name="l00399"></a><span class="lineno">  399</span>&#160;        dc-&gt;<a class="code" href="../../d3/d94/structdump__config.html#a01820fd3d011d84c3247433d0da374f8">string</a> = <a class="code" href="../../dc/dac/io_8h.html#ad2562db4d858dc312c9a189e8470b96a">rb_io_get_write_io</a>(tmp);</div><div class="line"><a name="l00400"></a><span class="lineno">  400</span>&#160;        <a class="code" href="../../db/d2e/intern_8h.html#a773ecf32a05c03d4ca1da8cf31bbfc29">rb_io_flush</a>(dc-&gt;<a class="code" href="../../d3/d94/structdump__config.html#a01820fd3d011d84c3247433d0da374f8">string</a>);</div><div class="line"><a name="l00401"></a><span class="lineno">  401</span>&#160;        <a class="code" href="../../dc/dac/io_8h.html#aa00f0dca97539a5dd0c4e67ad5be93a3">GetOpenFile</a>(dc-&gt;<a class="code" href="../../d3/d94/structdump__config.html#a01820fd3d011d84c3247433d0da374f8">string</a>, fptr);</div><div class="line"><a name="l00402"></a><span class="lineno">  402</span>&#160;        dc-&gt;<a class="code" href="../../d3/d94/structdump__config.html#ac2cac5778f086da36c04e16809742f97">stream</a> = <a class="code" href="../../dc/dac/io_8h.html#a5a0d6757d5f6624ea43d72323e1cb76f">rb_io_stdio_file</a>(fptr);</div><div class="line"><a name="l00403"></a><span class="lineno">  403</span>&#160;    }</div><div class="line"><a name="l00404"></a><span class="lineno">  404</span>&#160;    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (output == sym_string) {</div><div class="line"><a name="l00405"></a><span class="lineno">  405</span>&#160;        dc-&gt;<a class="code" href="../../d3/d94/structdump__config.html#a01820fd3d011d84c3247433d0da374f8">string</a> = <a class="code" href="../../db/d2e/intern_8h.html#a2b9cc485b0aa1dc270744b8b9eb47569">rb_str_new_cstr</a>(<span class="stringliteral">&quot;&quot;</span>);</div><div class="line"><a name="l00406"></a><span class="lineno">  406</span>&#160;    }</div><div class="line"><a name="l00407"></a><span class="lineno">  407</span>&#160;    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!<a class="code" href="../../de/de6/ruby_2ruby_8h.html#a4832bad8845a35fc50f7a160901854a1">NIL_P</a>(tmp = <a class="code" href="../../dc/dac/io_8h.html#ab38f99f0fadd521557079fa56c0fbddd">rb_io_check_io</a>(output))) {</div><div class="line"><a name="l00408"></a><span class="lineno">  408</span>&#160;        output = sym_file;</div><div class="line"><a name="l00409"></a><span class="lineno">  409</span>&#160;        <span class="keywordflow">goto</span> io;</div><div class="line"><a name="l00410"></a><span class="lineno">  410</span>&#160;    }</div><div class="line"><a name="l00411"></a><span class="lineno">  411</span>&#160;    <span class="keywordflow">else</span> {</div><div class="line"><a name="l00412"></a><span class="lineno">  412</span>&#160;        <a class="code" href="../../da/da6/group__exception.html#ga0f771a2840561f1838169b3d7d4616f3">rb_raise</a>(<a class="code" href="../../da/da6/group__exception.html#gab5e2a9fec766c75176fbb262bfe6a596">rb_eArgError</a>, <span class="stringliteral">&quot;wrong output option: %&quot;</span><a class="code" href="../../de/de6/ruby_2ruby_8h.html#a8e362fd0b6f28e246f5d689a4b5ee1b8">PRIsVALUE</a>, output);</div><div class="line"><a name="l00413"></a><span class="lineno">  413</span>&#160;    }</div><div class="line"><a name="l00414"></a><span class="lineno">  414</span>&#160;    <span class="keywordflow">return</span> output;</div><div class="line"><a name="l00415"></a><span class="lineno">  415</span>&#160;}</div><div class="line"><a name="l00416"></a><span class="lineno">  416</span>&#160;</div><div class="line"><a name="l00417"></a><span class="lineno">  417</span>&#160;<span class="keyword">static</span> <a class="code" href="../../de/de6/ruby_2ruby_8h.html#a3c1d4bfc6a81af60bdcb48744c35f760">VALUE</a></div><div class="line"><a name="l00418"></a><span class="lineno">  418</span>&#160;dump_result(<span class="keyword">struct</span> <a class="code" href="../../d3/d94/structdump__config.html">dump_config</a> *dc, <a class="code" href="../../de/de6/ruby_2ruby_8h.html#a3c1d4bfc6a81af60bdcb48744c35f760">VALUE</a> output)</div><div class="line"><a name="l00419"></a><span class="lineno">  419</span>&#160;{</div><div class="line"><a name="l00420"></a><span class="lineno">  420</span>&#160;    <span class="keywordflow">if</span> (output == sym_string) {</div><div class="line"><a name="l00421"></a><span class="lineno">  421</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="../../db/d2e/intern_8h.html#a682a7356c3dcf8faf21dcff7439312c4">rb_str_resurrect</a>(dc-&gt;<a class="code" href="../../d3/d94/structdump__config.html#a01820fd3d011d84c3247433d0da374f8">string</a>);</div><div class="line"><a name="l00422"></a><span class="lineno">  422</span>&#160;    }</div><div class="line"><a name="l00423"></a><span class="lineno">  423</span>&#160;    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (output == sym_file) {</div><div class="line"><a name="l00424"></a><span class="lineno">  424</span>&#160;        <a class="code" href="../../db/d2e/intern_8h.html#a773ecf32a05c03d4ca1da8cf31bbfc29">rb_io_flush</a>(dc-&gt;<a class="code" href="../../d3/d94/structdump__config.html#a01820fd3d011d84c3247433d0da374f8">string</a>);</div><div class="line"><a name="l00425"></a><span class="lineno">  425</span>&#160;        <span class="keywordflow">return</span> dc-&gt;<a class="code" href="../../d3/d94/structdump__config.html#a01820fd3d011d84c3247433d0da374f8">string</a>;</div><div class="line"><a name="l00426"></a><span class="lineno">  426</span>&#160;    }</div><div class="line"><a name="l00427"></a><span class="lineno">  427</span>&#160;    <span class="keywordflow">else</span> {</div><div class="line"><a name="l00428"></a><span class="lineno">  428</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="../../de/de6/ruby_2ruby_8h.html#aba03c3c4ff187bbda6c4459e2dc9f6c6">Qnil</a>;</div><div class="line"><a name="l00429"></a><span class="lineno">  429</span>&#160;    }</div><div class="line"><a name="l00430"></a><span class="lineno">  430</span>&#160;}</div><div class="line"><a name="l00431"></a><span class="lineno">  431</span>&#160;</div><div class="line"><a name="l00432"></a><span class="lineno">  432</span>&#160;<span class="comment">/*</span></div><div class="line"><a name="l00433"></a><span class="lineno">  433</span>&#160;<span class="comment"> *  call-seq:</span></div><div class="line"><a name="l00434"></a><span class="lineno">  434</span>&#160;<span class="comment"> *    ObjectSpace.dump(obj[, output: :string]) # =&gt; &quot;{ ... }&quot;</span></div><div class="line"><a name="l00435"></a><span class="lineno">  435</span>&#160;<span class="comment"> *    ObjectSpace.dump(obj, output: :file)     # =&gt; #&lt;File:/tmp/rubyobj20131125-88733-1xkfmpv.json&gt;</span></div><div class="line"><a name="l00436"></a><span class="lineno">  436</span>&#160;<span class="comment"> *    ObjectSpace.dump(obj, output: :stdout)   # =&gt; nil</span></div><div class="line"><a name="l00437"></a><span class="lineno">  437</span>&#160;<span class="comment"> *</span></div><div class="line"><a name="l00438"></a><span class="lineno">  438</span>&#160;<span class="comment"> *  Dump the contents of a ruby object as JSON.</span></div><div class="line"><a name="l00439"></a><span class="lineno">  439</span>&#160;<span class="comment"> *</span></div><div class="line"><a name="l00440"></a><span class="lineno">  440</span>&#160;<span class="comment"> *  This method is only expected to work with C Ruby.</span></div><div class="line"><a name="l00441"></a><span class="lineno">  441</span>&#160;<span class="comment"> *  This is an experimental method and is subject to change.</span></div><div class="line"><a name="l00442"></a><span class="lineno">  442</span>&#160;<span class="comment"> *  In particular, the function signature and output format are</span></div><div class="line"><a name="l00443"></a><span class="lineno">  443</span>&#160;<span class="comment"> *  not guaranteed to be compatible in future versions of ruby.</span></div><div class="line"><a name="l00444"></a><span class="lineno">  444</span>&#160;<span class="comment"> */</span></div><div class="line"><a name="l00445"></a><span class="lineno">  445</span>&#160;</div><div class="line"><a name="l00446"></a><span class="lineno">  446</span>&#160;<span class="keyword">static</span> <a class="code" href="../../de/de6/ruby_2ruby_8h.html#a3c1d4bfc6a81af60bdcb48744c35f760">VALUE</a></div><div class="line"><a name="l00447"></a><span class="lineno">  447</span>&#160;objspace_dump(<span class="keywordtype">int</span> <a class="code" href="../../df/d77/ruby_8c.html#ad1447518f4372828b8435ae82e48499e">argc</a>, <a class="code" href="../../de/de6/ruby_2ruby_8h.html#a3c1d4bfc6a81af60bdcb48744c35f760">VALUE</a> *<a class="code" href="../../df/d77/ruby_8c.html#af2efa898e9eed6fe6715279cb1ec35b0">argv</a>, <a class="code" href="../../de/de6/ruby_2ruby_8h.html#a3c1d4bfc6a81af60bdcb48744c35f760">VALUE</a> os)</div><div class="line"><a name="l00448"></a><span class="lineno">  448</span>&#160;{</div><div class="line"><a name="l00449"></a><span class="lineno">  449</span>&#160;    <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">char</span> filename[] = <span class="stringliteral">&quot;rubyobj&quot;</span>;</div><div class="line"><a name="l00450"></a><span class="lineno">  450</span>&#160;    <a class="code" href="../../de/de6/ruby_2ruby_8h.html#a3c1d4bfc6a81af60bdcb48744c35f760">VALUE</a> obj = <a class="code" href="../../de/de6/ruby_2ruby_8h.html#aba03c3c4ff187bbda6c4459e2dc9f6c6">Qnil</a>, opts = <a class="code" href="../../de/de6/ruby_2ruby_8h.html#aba03c3c4ff187bbda6c4459e2dc9f6c6">Qnil</a>, output;</div><div class="line"><a name="l00451"></a><span class="lineno">  451</span>&#160;    <span class="keyword">struct </span><a class="code" href="../../d3/d94/structdump__config.html">dump_config</a> dc = {0,};</div><div class="line"><a name="l00452"></a><span class="lineno">  452</span>&#160;</div><div class="line"><a name="l00453"></a><span class="lineno">  453</span>&#160;    <a class="code" href="../../d7/d19/group__defmethod.html#gaa7bed88640f01bee619f85fda09d28d7">rb_scan_args</a>(argc, argv, <span class="stringliteral">&quot;1:&quot;</span>, &amp;obj, &amp;opts);</div><div class="line"><a name="l00454"></a><span class="lineno">  454</span>&#160;</div><div class="line"><a name="l00455"></a><span class="lineno">  455</span>&#160;    output = dump_output(&amp;dc, opts, sym_string, filename);</div><div class="line"><a name="l00456"></a><span class="lineno">  456</span>&#160;</div><div class="line"><a name="l00457"></a><span class="lineno">  457</span>&#160;    dump_object(obj, &amp;dc);</div><div class="line"><a name="l00458"></a><span class="lineno">  458</span>&#160;</div><div class="line"><a name="l00459"></a><span class="lineno">  459</span>&#160;    <span class="keywordflow">return</span> dump_result(&amp;dc, output);</div><div class="line"><a name="l00460"></a><span class="lineno">  460</span>&#160;}</div><div class="line"><a name="l00461"></a><span class="lineno">  461</span>&#160;</div><div class="line"><a name="l00462"></a><span class="lineno">  462</span>&#160;<span class="comment">/*</span></div><div class="line"><a name="l00463"></a><span class="lineno">  463</span>&#160;<span class="comment"> *  call-seq:</span></div><div class="line"><a name="l00464"></a><span class="lineno">  464</span>&#160;<span class="comment"> *    ObjectSpace.dump_all([output: :file]) # =&gt; #&lt;File:/tmp/rubyheap20131125-88469-laoj3v.json&gt;</span></div><div class="line"><a name="l00465"></a><span class="lineno">  465</span>&#160;<span class="comment"> *    ObjectSpace.dump_all(output: :stdout) # =&gt; nil</span></div><div class="line"><a name="l00466"></a><span class="lineno">  466</span>&#160;<span class="comment"> *    ObjectSpace.dump_all(output: :string) # =&gt; &quot;{...}\n{...}\n...&quot;</span></div><div class="line"><a name="l00467"></a><span class="lineno">  467</span>&#160;<span class="comment"> *    ObjectSpace.dump_all(output:</span></div><div class="line"><a name="l00468"></a><span class="lineno">  468</span>&#160;<span class="comment"> *      File.open(&#39;heap.json&#39;,&#39;w&#39;))         # =&gt; #&lt;File:heap.json&gt;</span></div><div class="line"><a name="l00469"></a><span class="lineno">  469</span>&#160;<span class="comment"> *</span></div><div class="line"><a name="l00470"></a><span class="lineno">  470</span>&#160;<span class="comment"> *  Dump the contents of the ruby heap as JSON.</span></div><div class="line"><a name="l00471"></a><span class="lineno">  471</span>&#160;<span class="comment"> *</span></div><div class="line"><a name="l00472"></a><span class="lineno">  472</span>&#160;<span class="comment"> *  This method is only expected to work with C Ruby.</span></div><div class="line"><a name="l00473"></a><span class="lineno">  473</span>&#160;<span class="comment"> *  This is an experimental method and is subject to change.</span></div><div class="line"><a name="l00474"></a><span class="lineno">  474</span>&#160;<span class="comment"> *  In particular, the function signature and output format are</span></div><div class="line"><a name="l00475"></a><span class="lineno">  475</span>&#160;<span class="comment"> *  not guaranteed to be compatible in future versions of ruby.</span></div><div class="line"><a name="l00476"></a><span class="lineno">  476</span>&#160;<span class="comment"> */</span></div><div class="line"><a name="l00477"></a><span class="lineno">  477</span>&#160;</div><div class="line"><a name="l00478"></a><span class="lineno">  478</span>&#160;<span class="keyword">static</span> <a class="code" href="../../de/de6/ruby_2ruby_8h.html#a3c1d4bfc6a81af60bdcb48744c35f760">VALUE</a></div><div class="line"><a name="l00479"></a><span class="lineno">  479</span>&#160;objspace_dump_all(<span class="keywordtype">int</span> <a class="code" href="../../df/d77/ruby_8c.html#ad1447518f4372828b8435ae82e48499e">argc</a>, <a class="code" href="../../de/de6/ruby_2ruby_8h.html#a3c1d4bfc6a81af60bdcb48744c35f760">VALUE</a> *<a class="code" href="../../df/d77/ruby_8c.html#af2efa898e9eed6fe6715279cb1ec35b0">argv</a>, <a class="code" href="../../de/de6/ruby_2ruby_8h.html#a3c1d4bfc6a81af60bdcb48744c35f760">VALUE</a> os)</div><div class="line"><a name="l00480"></a><span class="lineno">  480</span>&#160;{</div><div class="line"><a name="l00481"></a><span class="lineno">  481</span>&#160;    <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">char</span> filename[] = <span class="stringliteral">&quot;rubyheap&quot;</span>;</div><div class="line"><a name="l00482"></a><span class="lineno">  482</span>&#160;    <a class="code" href="../../de/de6/ruby_2ruby_8h.html#a3c1d4bfc6a81af60bdcb48744c35f760">VALUE</a> opts = <a class="code" href="../../de/de6/ruby_2ruby_8h.html#aba03c3c4ff187bbda6c4459e2dc9f6c6">Qnil</a>, output;</div><div class="line"><a name="l00483"></a><span class="lineno">  483</span>&#160;    <span class="keyword">struct </span><a class="code" href="../../d3/d94/structdump__config.html">dump_config</a> dc = {0,};</div><div class="line"><a name="l00484"></a><span class="lineno">  484</span>&#160;</div><div class="line"><a name="l00485"></a><span class="lineno">  485</span>&#160;    <a class="code" href="../../d7/d19/group__defmethod.html#gaa7bed88640f01bee619f85fda09d28d7">rb_scan_args</a>(argc, argv, <span class="stringliteral">&quot;0:&quot;</span>, &amp;opts);</div><div class="line"><a name="l00486"></a><span class="lineno">  486</span>&#160;</div><div class="line"><a name="l00487"></a><span class="lineno">  487</span>&#160;    output = dump_output(&amp;dc, opts, sym_file, filename);</div><div class="line"><a name="l00488"></a><span class="lineno">  488</span>&#160;</div><div class="line"><a name="l00489"></a><span class="lineno">  489</span>&#160;    <span class="comment">/* dump roots */</span></div><div class="line"><a name="l00490"></a><span class="lineno">  490</span>&#160;    <a class="code" href="../../d8/d16/gc_8c.html#ac5c0eb47e7607143ca27ec1fbd01f964">rb_objspace_reachable_objects_from_root</a>(root_obj_i, &amp;dc);</div><div class="line"><a name="l00491"></a><span class="lineno">  491</span>&#160;    <span class="keywordflow">if</span> (dc.<a class="code" href="../../d3/d94/structdump__config.html#a1da71950822132752885d956edcdba0a">roots</a>) dump_append(&amp;dc, <span class="stringliteral">&quot;]}\n&quot;</span>);</div><div class="line"><a name="l00492"></a><span class="lineno">  492</span>&#160;</div><div class="line"><a name="l00493"></a><span class="lineno">  493</span>&#160;    <span class="comment">/* dump all objects */</span></div><div class="line"><a name="l00494"></a><span class="lineno">  494</span>&#160;    <a class="code" href="../../d8/d16/gc_8c.html#ac2b65f7b2d778d973bfc7f0bf0c3dc62">rb_objspace_each_objects</a>(heap_i, &amp;dc);</div><div class="line"><a name="l00495"></a><span class="lineno">  495</span>&#160;</div><div class="line"><a name="l00496"></a><span class="lineno">  496</span>&#160;    <span class="keywordflow">return</span> dump_result(&amp;dc, output);</div><div class="line"><a name="l00497"></a><span class="lineno">  497</span>&#160;}</div><div class="line"><a name="l00498"></a><span class="lineno">  498</span>&#160;</div><div class="line"><a name="l00499"></a><span class="lineno">  499</span>&#160;<span class="keywordtype">void</span></div><div class="line"><a name="l00500"></a><span class="lineno"><a class="line" href="../../d5/d05/objspace__dump_8c.html#a2efd19ca2491832391006425af2c8ecb">  500</a></span>&#160;<a class="code" href="../../d5/d05/objspace__dump_8c.html#a2efd19ca2491832391006425af2c8ecb">Init_objspace_dump</a>(<a class="code" href="../../de/de6/ruby_2ruby_8h.html#a3c1d4bfc6a81af60bdcb48744c35f760">VALUE</a> rb_mObjSpace)</div><div class="line"><a name="l00501"></a><span class="lineno">  501</span>&#160;{</div><div class="line"><a name="l00502"></a><span class="lineno">  502</span>&#160;<span class="preprocessor">#if 0</span></div><div class="line"><a name="l00503"></a><span class="lineno">  503</span>&#160;    rb_mObjSpace = <a class="code" href="../../de/ddf/group__class.html#ga911071d40f9312e49a774ea0e1b12869">rb_define_module</a>(<span class="stringliteral">&quot;ObjectSpace&quot;</span>); <span class="comment">/* let rdoc know */</span></div><div class="line"><a name="l00504"></a><span class="lineno">  504</span>&#160;<span class="preprocessor">#endif</span></div><div class="line"><a name="l00505"></a><span class="lineno">  505</span>&#160;</div><div class="line"><a name="l00506"></a><span class="lineno">  506</span>&#160;    <a class="code" href="../../d7/d19/group__defmethod.html#gafc7122dde38ecff13de3e9d19a30aaeb">rb_define_module_function</a>(rb_mObjSpace, <span class="stringliteral">&quot;dump&quot;</span>, objspace_dump, -1);</div><div class="line"><a name="l00507"></a><span class="lineno">  507</span>&#160;    <a class="code" href="../../d7/d19/group__defmethod.html#gafc7122dde38ecff13de3e9d19a30aaeb">rb_define_module_function</a>(rb_mObjSpace, <span class="stringliteral">&quot;dump_all&quot;</span>, objspace_dump_all, -1);</div><div class="line"><a name="l00508"></a><span class="lineno">  508</span>&#160;</div><div class="line"><a name="l00509"></a><span class="lineno">  509</span>&#160;    sym_output = <a class="code" href="../../de/de6/ruby_2ruby_8h.html#a4ef7b7ff907d043bd989a7e73e1da420">ID2SYM</a>(<a class="code" href="../../dc/dcc/array_8c.html#a9cfa42d4b79c89d68c53be8b2150a503">rb_intern</a>(<span class="stringliteral">&quot;output&quot;</span>));</div><div class="line"><a name="l00510"></a><span class="lineno">  510</span>&#160;    sym_stdout = <a class="code" href="../../de/de6/ruby_2ruby_8h.html#a4ef7b7ff907d043bd989a7e73e1da420">ID2SYM</a>(<a class="code" href="../../dc/dcc/array_8c.html#a9cfa42d4b79c89d68c53be8b2150a503">rb_intern</a>(<span class="stringliteral">&quot;stdout&quot;</span>));</div><div class="line"><a name="l00511"></a><span class="lineno">  511</span>&#160;    sym_string = <a class="code" href="../../de/de6/ruby_2ruby_8h.html#a4ef7b7ff907d043bd989a7e73e1da420">ID2SYM</a>(<a class="code" href="../../dc/dcc/array_8c.html#a9cfa42d4b79c89d68c53be8b2150a503">rb_intern</a>(<span class="stringliteral">&quot;string&quot;</span>));</div><div class="line"><a name="l00512"></a><span class="lineno">  512</span>&#160;    sym_file   = <a class="code" href="../../de/de6/ruby_2ruby_8h.html#a4ef7b7ff907d043bd989a7e73e1da420">ID2SYM</a>(<a class="code" href="../../dc/dcc/array_8c.html#a9cfa42d4b79c89d68c53be8b2150a503">rb_intern</a>(<span class="stringliteral">&quot;file&quot;</span>));</div><div class="line"><a name="l00513"></a><span class="lineno">  513</span>&#160;    sym_full   = <a class="code" href="../../de/de6/ruby_2ruby_8h.html#a4ef7b7ff907d043bd989a7e73e1da420">ID2SYM</a>(<a class="code" href="../../dc/dcc/array_8c.html#a9cfa42d4b79c89d68c53be8b2150a503">rb_intern</a>(<span class="stringliteral">&quot;full&quot;</span>));</div><div class="line"><a name="l00514"></a><span class="lineno">  514</span>&#160;</div><div class="line"><a name="l00515"></a><span class="lineno">  515</span>&#160;    <span class="comment">/* force create static IDs */</span></div><div class="line"><a name="l00516"></a><span class="lineno">  516</span>&#160;    <a class="code" href="../../d8/d16/gc_8c.html#aef4172461b7284632711cd79946e566a">rb_obj_gc_flags</a>(rb_mObjSpace, 0, 0);</div><div class="line"><a name="l00517"></a><span class="lineno">  517</span>&#160;}</div><div class="ttc" id="ruby_2ruby_8h_html_a4f77ed51d02515ee27ce9fca7880ce8f"><div class="ttname"><a href="../../de/de6/ruby_2ruby_8h.html#a4f77ed51d02515ee27ce9fca7880ce8f">ELTS_SHARED</a></div><div class="ttdeci">#define ELTS_SHARED</div><div class="ttdef"><b>Definition:</b> <a href="../../de/de6/ruby_2ruby_8h_source.html#l00937">ruby.h:937</a></div></div>
<div class="ttc" id="structdump__config_html_ac2cac5778f086da36c04e16809742f97"><div class="ttname"><a href="../../d3/d94/structdump__config.html#ac2cac5778f086da36c04e16809742f97">dump_config::stream</a></div><div class="ttdeci">FILE * stream</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d05/objspace__dump_8c_source.html#l00028">objspace_dump.c:28</a></div></div>
<div class="ttc" id="ruby_2ruby_8h_html_ac9aadbc1e9c456506a4d7eef5cdc787e"><div class="ttname"><a href="../../de/de6/ruby_2ruby_8h.html#ac9aadbc1e9c456506a4d7eef5cdc787e">T_SYMBOL</a></div><div class="ttdeci">#define T_SYMBOL</div><div class="ttdef"><b>Definition:</b> <a href="../../de/de6/ruby_2ruby_8h_source.html#l00508">ruby.h:508</a></div></div>
<div class="ttc" id="ruby_2ruby_8h_html_abed71c72d5c3083041d52ad25630270e"><div class="ttname"><a href="../../de/de6/ruby_2ruby_8h.html#abed71c72d5c3083041d52ad25630270e">T_OBJECT</a></div><div class="ttdeci">#define T_OBJECT</div><div class="ttdef"><b>Definition:</b> <a href="../../de/de6/ruby_2ruby_8h_source.html#l00491">ruby.h:491</a></div></div>
<div class="ttc" id="internal_8h_html_a8de8d2f6479866e76eeb56f5044fa583"><div class="ttname"><a href="../../db/dde/internal_8h.html#a8de8d2f6479866e76eeb56f5044fa583">is_broken_string</a></div><div class="ttdeci">#define is_broken_string(str)</div><div class="ttdef"><b>Definition:</b> <a href="../../db/dde/internal_8h_source.html#l01655">internal.h:1655</a></div></div>
<div class="ttc" id="ruby_2ruby_8h_html_a0068ed01a16efbb8740e1b0c295b672e"><div class="ttname"><a href="../../de/de6/ruby_2ruby_8h.html#a0068ed01a16efbb8740e1b0c295b672e">RARRAY_LEN</a></div><div class="ttdeci">#define RARRAY_LEN(a)</div><div class="ttdef"><b>Definition:</b> <a href="../../de/de6/ruby_2ruby_8h_source.html#l01019">ruby.h:1019</a></div></div>
<div class="ttc" id="nkf_8h_html_aa93f0eb578d23995850d61f7d61c55c1"><div class="ttname"><a href="../../d1/d5c/nkf_8h.html#aa93f0eb578d23995850d61f7d61c55c1">FALSE</a></div><div class="ttdeci">#define FALSE</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d5c/nkf_8h_source.html#l00174">nkf.h:174</a></div></div>
<div class="ttc" id="internal_8h_html_a6cda8a76296ca54beac8c7de5486bb1a"><div class="ttname"><a href="../../db/dde/internal_8h.html#a6cda8a76296ca54beac8c7de5486bb1a">RB_OBJ_GC_FLAGS_MAX</a></div><div class="ttdeci">#define RB_OBJ_GC_FLAGS_MAX</div><div class="ttdef"><b>Definition:</b> <a href="../../db/dde/internal_8h_source.html#l01919">internal.h:1919</a></div></div>
<div class="ttc" id="node_8h_html"><div class="ttname"><a href="../../d1/d77/node_8h.html">node.h</a></div></div>
<div class="ttc" id="structdump__config_html_a730cc64a99e14ed6f866ee7d038ba774"><div class="ttname"><a href="../../d3/d94/structdump__config.html#a730cc64a99e14ed6f866ee7d038ba774">dump_config::full_heap</a></div><div class="ttdeci">int full_heap</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d05/objspace__dump_8c_source.html#l00035">objspace_dump.c:35</a></div></div>
<div class="ttc" id="group__exception_html_ga0f771a2840561f1838169b3d7d4616f3"><div class="ttname"><a href="../../da/da6/group__exception.html#ga0f771a2840561f1838169b3d7d4616f3">rb_raise</a></div><div class="ttdeci">void rb_raise(VALUE exc, const char *fmt,...)</div><div class="ttdef"><b>Definition:</b> <a href="../../db/dcc/error_8c_source.html#l02284">error.c:2284</a></div></div>
<div class="ttc" id="ruby_2ruby_8h_html_a6cdc7dfe8f84777325da08a96ae5f795"><div class="ttname"><a href="../../de/de6/ruby_2ruby_8h.html#a6cdc7dfe8f84777325da08a96ae5f795">T_MODULE</a></div><div class="ttdeci">#define T_MODULE</div><div class="ttdef"><b>Definition:</b> <a href="../../de/de6/ruby_2ruby_8h_source.html#l00494">ruby.h:494</a></div></div>
<div class="ttc" id="debug_8h_html"><div class="ttname"><a href="../../db/d16/debug_8h.html">debug.h</a></div></div>
<div class="ttc" id="ruby_2ruby_8h_html_aacea3516b33941ce8149098e223a7466"><div class="ttname"><a href="../../de/de6/ruby_2ruby_8h.html#aacea3516b33941ce8149098e223a7466">Qtrue</a></div><div class="ttdeci">#define Qtrue</div><div class="ttdef"><b>Definition:</b> <a href="../../de/de6/ruby_2ruby_8h_source.html#l00437">ruby.h:437</a></div></div>
<div class="ttc" id="internal_8h_html_a053ebe2487386654339f4de623e5d3a2"><div class="ttname"><a href="../../db/dde/internal_8h.html#a053ebe2487386654339f4de623e5d3a2">is_ascii_string</a></div><div class="ttdeci">#define is_ascii_string(str)</div><div class="ttdef"><b>Definition:</b> <a href="../../db/dde/internal_8h_source.html#l01654">internal.h:1654</a></div></div>
<div class="ttc" id="structrb__io__t_html"><div class="ttname"><a href="../../dd/d7e/structrb__io__t.html">rb_io_t</a></div><div class="ttdef"><b>Definition:</b> <a href="../../dc/dac/io_8h_source.html#l00062">io.h:62</a></div></div>
<div class="ttc" id="intern_8h_html_a773ecf32a05c03d4ca1da8cf31bbfc29"><div class="ttname"><a href="../../db/d2e/intern_8h.html#a773ecf32a05c03d4ca1da8cf31bbfc29">rb_io_flush</a></div><div class="ttdeci">VALUE rb_io_flush(VALUE)</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d0a/io_8c_source.html#l01592">io.c:1592</a></div></div>
<div class="ttc" id="structdump__config_html_a1da71950822132752885d956edcdba0a"><div class="ttname"><a href="../../d3/d94/structdump__config.html#a1da71950822132752885d956edcdba0a">dump_config::roots</a></div><div class="ttdeci">int roots</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d05/objspace__dump_8c_source.html#l00030">objspace_dump.c:30</a></div></div>
<div class="ttc" id="escape_8c_html_a0a7803909f0c4188761ec0a533eab82e"><div class="ttname"><a href="../../d5/d9f/escape_8c.html#a0a7803909f0c4188761ec0a533eab82e">MATCH</a></div><div class="ttdeci">#define MATCH(s)</div></div>
<div class="ttc" id="transcode__data_8h_html_abde25a67f4046530ae1c572cefeb5869"><div class="ttname"><a href="../../d1/daa/transcode__data_8h.html#abde25a67f4046530ae1c572cefeb5869">UNDEF</a></div><div class="ttdeci">#define UNDEF</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/daa/transcode__data_8h_source.html#l00033">transcode_data.h:33</a></div></div>
<div class="ttc" id="gc_8c_html_ac5c0eb47e7607143ca27ec1fbd01f964"><div class="ttname"><a href="../../d8/d16/gc_8c.html#ac5c0eb47e7607143ca27ec1fbd01f964">rb_objspace_reachable_objects_from_root</a></div><div class="ttdeci">void rb_objspace_reachable_objects_from_root(void(func)(const char *category, VALUE, void *), void *passing_data)</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d16/gc_8c_source.html#l07627">gc.c:7627</a></div></div>
<div class="ttc" id="gc_8h_html"><div class="ttname"><a href="../../d0/daa/gc_8h.html">gc.h</a></div></div>
<div class="ttc" id="ruby_2ruby_8h_html_a8357e81bbb60cb41b0a292a90653a5e5"><div class="ttname"><a href="../../de/de6/ruby_2ruby_8h.html#a8357e81bbb60cb41b0a292a90653a5e5">T_HASH</a></div><div class="ttdeci">#define T_HASH</div><div class="ttdef"><b>Definition:</b> <a href="../../de/de6/ruby_2ruby_8h_source.html#l00499">ruby.h:499</a></div></div>
<div class="ttc" id="structdump__config_html_aca2ae6d31f4090360810bd9fcddba442"><div class="ttname"><a href="../../d3/d94/structdump__config.html#aca2ae6d31f4090360810bd9fcddba442">dump_config::root_category</a></div><div class="ttdeci">const char * root_category</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d05/objspace__dump_8c_source.html#l00031">objspace_dump.c:31</a></div></div>
<div class="ttc" id="gc_8c_html_ac2b65f7b2d778d973bfc7f0bf0c3dc62"><div class="ttname"><a href="../../d8/d16/gc_8c.html#ac2b65f7b2d778d973bfc7f0bf0c3dc62">rb_objspace_each_objects</a></div><div class="ttdeci">void rb_objspace_each_objects(each_obj_callback *callback, void *data)</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d16/gc_8c_source.html#l02489">gc.c:2489</a></div></div>
<div class="ttc" id="ruby_2ruby_8h_html_abbd332f6f94d77e0a369c7720128639e"><div class="ttname"><a href="../../de/de6/ruby_2ruby_8h.html#abbd332f6f94d77e0a369c7720128639e">T_ARRAY</a></div><div class="ttdeci">#define T_ARRAY</div><div class="ttdef"><b>Definition:</b> <a href="../../de/de6/ruby_2ruby_8h_source.html#l00498">ruby.h:498</a></div></div>
<div class="ttc" id="ruby_2ruby_8h_html_ac9638ebe62bc0a0246b7b18a3afac833"><div class="ttname"><a href="../../de/de6/ruby_2ruby_8h.html#ac9638ebe62bc0a0246b7b18a3afac833">RFILE</a></div><div class="ttdeci">#define RFILE(obj)</div><div class="ttdef"><b>Definition:</b> <a href="../../de/de6/ruby_2ruby_8h_source.html#l01206">ruby.h:1206</a></div></div>
<div class="ttc" id="ruby_2ruby_8h_html_afd3b3bb33823e7f8e0196f56e3870dd4"><div class="ttname"><a href="../../de/de6/ruby_2ruby_8h.html#afd3b3bb33823e7f8e0196f56e3870dd4">ROBJECT_NUMIV</a></div><div class="ttdeci">#define ROBJECT_NUMIV(o)</div><div class="ttdef"><b>Definition:</b> <a href="../../de/de6/ruby_2ruby_8h_source.html#l00900">ruby.h:900</a></div></div>
<div class="ttc" id="structdump__config_html_a238b4ed49d39e2655942e9003db9375f"><div class="ttname"><a href="../../d3/d94/structdump__config.html#a238b4ed49d39e2655942e9003db9375f">dump_config::cur_obj</a></div><div class="ttdeci">VALUE cur_obj</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d05/objspace__dump_8c_source.html#l00032">objspace_dump.c:32</a></div></div>
<div class="ttc" id="ruby_2ruby_8h_html_acf2fcf97dcf9c7c35452730eb3e2aeb2"><div class="ttname"><a href="../../de/de6/ruby_2ruby_8h.html#acf2fcf97dcf9c7c35452730eb3e2aeb2">FIXNUM_P</a></div><div class="ttdeci">#define FIXNUM_P(f)</div><div class="ttdef"><b>Definition:</b> <a href="../../de/de6/ruby_2ruby_8h_source.html#l00365">ruby.h:365</a></div></div>
<div class="ttc" id="intern_8h_html_a28a7241d8742ac74f2a914c222c8efc9"><div class="ttname"><a href="../../db/d2e/intern_8h.html#a28a7241d8742ac74f2a914c222c8efc9">rb_path2class</a></div><div class="ttdeci">VALUE rb_path2class(const char *)</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d2a/variable_8c_source.html#l00432">variable.c:432</a></div></div>
<div class="ttc" id="objspace__dump_8c_html_a1f1bd4139354e743f98448d13e5ae639"><div class="ttname"><a href="../../d5/d05/objspace__dump_8c.html#a1f1bd4139354e743f98448d13e5ae639">PRINTF_ARGS</a></div><div class="ttdeci">PRINTF_ARGS(static void dump_append(struct dump_config *, const char *,...), 2, 3)</div></div>
<div class="ttc" id="group__deprecated__macros_html_ga1ae918b6cc84188a9dc6ab545f732e4d"><div class="ttname"><a href="../../dd/dd3/group__deprecated__macros.html#ga1ae918b6cc84188a9dc6ab545f732e4d">FL_TEST</a></div><div class="ttdeci">#define FL_TEST(x, f)</div><div class="ttdef"><b>Definition:</b> <a href="../../de/de6/ruby_2ruby_8h_source.html#l01282">ruby.h:1282</a></div></div>
<div class="ttc" id="node_8h_html_ade12c589b26f55f089dc25d689249c11"><div class="ttname"><a href="../../d1/d77/node_8h.html#ade12c589b26f55f089dc25d689249c11">nd_type</a></div><div class="ttdeci">#define nd_type(n)</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d77/node_8h_source.html#l00272">node.h:272</a></div></div>
<div class="ttc" id="io_8h_html_aa00f0dca97539a5dd0c4e67ad5be93a3"><div class="ttname"><a href="../../dc/dac/io_8h.html#aa00f0dca97539a5dd0c4e67ad5be93a3">GetOpenFile</a></div><div class="ttdeci">#define GetOpenFile(obj, fp)</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/dac/io_8h_source.html#l00120">io.h:120</a></div></div>
<div class="ttc" id="io_8h_html"><div class="ttname"><a href="../../dc/dac/io_8h.html">io.h</a></div></div>
<div class="ttc" id="ruby_2ruby_8h_html_a276259ac25709c4407ced125ce63cd3b"><div class="ttname"><a href="../../de/de6/ruby_2ruby_8h.html#a276259ac25709c4407ced125ce63cd3b">RHASH_IFNONE</a></div><div class="ttdeci">#define RHASH_IFNONE(h)</div><div class="ttdef"><b>Definition:</b> <a href="../../de/de6/ruby_2ruby_8h_source.html#l01058">ruby.h:1058</a></div></div>
<div class="ttc" id="group__exception_html_gab5e2a9fec766c75176fbb262bfe6a596"><div class="ttname"><a href="../../da/da6/group__exception.html#gab5e2a9fec766c75176fbb262bfe6a596">rb_eArgError</a></div><div class="ttdeci">VALUE rb_eArgError</div><div class="ttdef"><b>Definition:</b> <a href="../../db/dcc/error_8c_source.html#l00802">error.c:802</a></div></div>
<div class="ttc" id="struct____s_f_i_l_e_html"><div class="ttname"><a href="../../db/ddf/struct____s_f_i_l_e.html">__sFILE</a></div><div class="ttdef"><b>Definition:</b> <a href="../../da/d50/vsnprintf_8c_source.html#l00169">vsnprintf.c:169</a></div></div>
<div class="ttc" id="struct_r_node_html"><div class="ttname"><a href="../../dd/de6/struct_r_node.html">RNode</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d77/node_8h_source.html#l00233">node.h:233</a></div></div>
<div class="ttc" id="structallocation__info_html_ab7e55000958cecc13be2b2f2f1fbd4fa"><div class="ttname"><a href="../../d6/d88/structallocation__info.html#ab7e55000958cecc13be2b2f2f1fbd4fa">allocation_info::generation</a></div><div class="ttdeci">size_t generation</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/dec/objspace_8h_source.html#l00016">objspace.h:16</a></div></div>
<div class="ttc" id="structdump__config_html_a930e29ac7a37207b48470ac6163832a4"><div class="ttname"><a href="../../d3/d94/structdump__config.html#a930e29ac7a37207b48470ac6163832a4">dump_config::cur_obj_klass</a></div><div class="ttdeci">VALUE cur_obj_klass</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d05/objspace__dump_8c_source.html#l00033">objspace_dump.c:33</a></div></div>
<div class="ttc" id="gc_8c_html_a74fc25ea0cc65d6862aeaf0abd05e3ba"><div class="ttname"><a href="../../d8/d16/gc_8c.html#a74fc25ea0cc65d6862aeaf0abd05e3ba">rb_obj_memsize_of</a></div><div class="ttdeci">size_t rb_obj_memsize_of(VALUE obj)</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d16/gc_8c_source.html#l03327">gc.c:3327</a></div></div>
<div class="ttc" id="objspace__dump_8c_html_a997c6c67d52998edbc9fd20000f55712"><div class="ttname"><a href="../../d5/d05/objspace__dump_8c.html#a997c6c67d52998edbc9fd20000f55712">TYPE_STR</a></div><div class="ttdeci">#define TYPE_STR(t)</div></div>
<div class="ttc" id="ruby_2ruby_8h_html_a9f4acbcae9f1821d167c69e5c429bc1b"><div class="ttname"><a href="../../de/de6/ruby_2ruby_8h.html#a9f4acbcae9f1821d167c69e5c429bc1b">rb_require</a></div><div class="ttdeci">VALUE rb_require(const char *)</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dd4/load_8c_source.html#l01061">load.c:1061</a></div></div>
<div class="ttc" id="io_8h_html_ad2562db4d858dc312c9a189e8470b96a"><div class="ttname"><a href="../../dc/dac/io_8h.html#ad2562db4d858dc312c9a189e8470b96a">rb_io_get_write_io</a></div><div class="ttdeci">VALUE rb_io_get_write_io(VALUE io)</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d0a/io_8c_source.html#l00670">io.c:670</a></div></div>
<div class="ttc" id="io_8h_html_ab38f99f0fadd521557079fa56c0fbddd"><div class="ttname"><a href="../../dc/dac/io_8h.html#ab38f99f0fadd521557079fa56c0fbddd">rb_io_check_io</a></div><div class="ttdeci">VALUE rb_io_check_io(VALUE io)</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d0a/io_8c_source.html#l00664">io.c:664</a></div></div>
<div class="ttc" id="ruby_2ruby_8h_html_a4832bad8845a35fc50f7a160901854a1"><div class="ttname"><a href="../../de/de6/ruby_2ruby_8h.html#a4832bad8845a35fc50f7a160901854a1">NIL_P</a></div><div class="ttdeci">#define NIL_P(v)</div><div class="ttdef"><b>Definition:</b> <a href="../../de/de6/ruby_2ruby_8h_source.html#l00451">ruby.h:451</a></div></div>
<div class="ttc" id="structrb__io__t_html_a0d48f8e91d24ff4f382564b30c1b41c2"><div class="ttname"><a href="../../dd/d7e/structrb__io__t.html#a0d48f8e91d24ff4f382564b30c1b41c2">rb_io_t::fd</a></div><div class="ttdeci">int fd</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/dac/io_8h_source.html#l00064">io.h:64</a></div></div>
<div class="ttc" id="structallocation__info_html_a8aa9631e461c389fe2840f34e8a0326b"><div class="ttname"><a href="../../d6/d88/structallocation__info.html#a8aa9631e461c389fe2840f34e8a0326b">allocation_info::line</a></div><div class="ttdeci">unsigned long line</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/dec/objspace_8h_source.html#l00013">objspace.h:13</a></div></div>
<div class="ttc" id="ruby_2ruby_8h_html_a82792465e4fa673f5f556d9f230a6aec"><div class="ttname"><a href="../../de/de6/ruby_2ruby_8h.html#a82792465e4fa673f5f556d9f230a6aec">FLONUM_P</a></div><div class="ttdeci">#define FLONUM_P(x)</div><div class="ttdef"><b>Definition:</b> <a href="../../de/de6/ruby_2ruby_8h_source.html#l00399">ruby.h:399</a></div></div>
<div class="ttc" id="ruby_2ruby_8h_html_a3d072e0c25cf678e9b8601b957b92eae"><div class="ttname"><a href="../../de/de6/ruby_2ruby_8h.html#a3d072e0c25cf678e9b8601b957b92eae">T_FLOAT</a></div><div class="ttdeci">#define T_FLOAT</div><div class="ttdef"><b>Definition:</b> <a href="../../de/de6/ruby_2ruby_8h_source.html#l00495">ruby.h:495</a></div></div>
<div class="ttc" id="structdump__config_html_a01820fd3d011d84c3247433d0da374f8"><div class="ttname"><a href="../../d3/d94/structdump__config.html#a01820fd3d011d84c3247433d0da374f8">dump_config::string</a></div><div class="ttdeci">VALUE string</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d05/objspace__dump_8c_source.html#l00029">objspace_dump.c:29</a></div></div>
<div class="ttc" id="ruby_8c_html_ad1447518f4372828b8435ae82e48499e"><div class="ttname"><a href="../../df/d77/ruby_8c.html#ad1447518f4372828b8435ae82e48499e">argc</a></div><div class="ttdeci">int argc</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d77/ruby_8c_source.html#l00187">ruby.c:187</a></div></div>
<div class="ttc" id="ruby_2ruby_8h_html_aba0717d2689eb68797421a02ab9295c6"><div class="ttname"><a href="../../de/de6/ruby_2ruby_8h.html#aba0717d2689eb68797421a02ab9295c6">Qfalse</a></div><div class="ttdeci">#define Qfalse</div><div class="ttdef"><b>Definition:</b> <a href="../../de/de6/ruby_2ruby_8h_source.html#l00436">ruby.h:436</a></div></div>
<div class="ttc" id="ruby_2ruby_8h_html_a5f1cc49c4da51d5bdffa64be79ff6fb0"><div class="ttname"><a href="../../de/de6/ruby_2ruby_8h.html#a5f1cc49c4da51d5bdffa64be79ff6fb0">T_NODE</a></div><div class="ttdeci">#define T_NODE</div><div class="ttdef"><b>Definition:</b> <a href="../../de/de6/ruby_2ruby_8h_source.html#l00513">ruby.h:513</a></div></div>
<div class="ttc" id="internal_8h_html_a47a46c073102a116dc86fbe598a8694e"><div class="ttname"><a href="../../db/dde/internal_8h.html#a47a46c073102a116dc86fbe598a8694e">STR_SHARED_P</a></div><div class="ttdeci">#define STR_SHARED_P(s)</div><div class="ttdef"><b>Definition:</b> <a href="../../db/dde/internal_8h_source.html#l01653">internal.h:1653</a></div></div>
<div class="ttc" id="internal_8h_html_a08d43a030aae3122aa9bf140b6779c1e"><div class="ttname"><a href="../../db/dde/internal_8h.html#a08d43a030aae3122aa9bf140b6779c1e">HASH_PROC_DEFAULT</a></div><div class="ttdeci">#define HASH_PROC_DEFAULT</div><div class="ttdef"><b>Definition:</b> <a href="../../db/dde/internal_8h_source.html#l01273">internal.h:1273</a></div></div>
<div class="ttc" id="intern_8h_html_a682a7356c3dcf8faf21dcff7439312c4"><div class="ttname"><a href="../../db/d2e/intern_8h.html#a682a7356c3dcf8faf21dcff7439312c4">rb_str_resurrect</a></div><div class="ttdeci">VALUE rb_str_resurrect(VALUE str)</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/db0/string_8c_source.html#l01494">string.c:1494</a></div></div>
<div class="ttc" id="ruby_2ruby_8h_html_a0d1c6e4431397f8bd285073af0d98d77"><div class="ttname"><a href="../../de/de6/ruby_2ruby_8h.html#a0d1c6e4431397f8bd285073af0d98d77">RSTRING_LEN</a></div><div class="ttdeci">#define RSTRING_LEN(str)</div><div class="ttdef"><b>Definition:</b> <a href="../../de/de6/ruby_2ruby_8h_source.html#l00971">ruby.h:971</a></div></div>
<div class="ttc" id="group__defmethod_html_gafc7122dde38ecff13de3e9d19a30aaeb"><div class="ttname"><a href="../../d7/d19/group__defmethod.html#gafc7122dde38ecff13de3e9d19a30aaeb">rb_define_module_function</a></div><div class="ttdeci">void rb_define_module_function(VALUE module, const char *name, VALUE(*func)(ANYARGS), int argc)</div><div class="ttdoc">Defines a module function for module. </div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d0c/class_8c_source.html#l01731">class.c:1731</a></div></div>
<div class="ttc" id="nkf_8h_html_aa8cecfc5c5c054d2875c03e77b7be15d"><div class="ttname"><a href="../../d1/d5c/nkf_8h.html#aa8cecfc5c5c054d2875c03e77b7be15d">TRUE</a></div><div class="ttdeci">#define TRUE</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d5c/nkf_8h_source.html#l00175">nkf.h:175</a></div></div>
<div class="ttc" id="ruby_2ruby_8h_html_a55f295817faf14e42b3cff745a7ac706"><div class="ttname"><a href="../../de/de6/ruby_2ruby_8h.html#a55f295817faf14e42b3cff745a7ac706">T_DATA</a></div><div class="ttdeci">#define T_DATA</div><div class="ttdef"><b>Definition:</b> <a href="../../de/de6/ruby_2ruby_8h_source.html#l00506">ruby.h:506</a></div></div>
<div class="ttc" id="encoding_8h_html_a69d59d898802726787a168ef2e0dc92c"><div class="ttname"><a href="../../d5/de3/encoding_8h.html#a69d59d898802726787a168ef2e0dc92c">rb_enc_name</a></div><div class="ttdeci">#define rb_enc_name(enc)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/de3/encoding_8h_source.html#l00171">encoding.h:171</a></div></div>
<div class="ttc" id="gc_8c_html_aef4172461b7284632711cd79946e566a"><div class="ttname"><a href="../../d8/d16/gc_8c.html#aef4172461b7284632711cd79946e566a">rb_obj_gc_flags</a></div><div class="ttdeci">size_t rb_obj_gc_flags(VALUE obj, ID *flags, size_t max)</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d16/gc_8c_source.html#l06142">gc.c:6142</a></div></div>
<div class="ttc" id="intern_8h_html_a431fe56e927b571beb0a4b76791368a6"><div class="ttname"><a href="../../db/d2e/intern_8h.html#a431fe56e927b571beb0a4b76791368a6">rb_str_vcatf</a></div><div class="ttdeci">VALUE rb_str_vcatf(VALUE, const char *, va_list)</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d2d/sprintf_8c_source.html#l01465">sprintf.c:1465</a></div></div>
<div class="ttc" id="fbuffer_8h_html_ae3d96e4c560161f246a3e0888e1cf831"><div class="ttname"><a href="../../de/d61/fbuffer_8h.html#ae3d96e4c560161f246a3e0888e1cf831">RHASH_SIZE</a></div><div class="ttdeci">#define RHASH_SIZE(hsh)</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d61/fbuffer_8h_source.html#l00008">fbuffer.h:8</a></div></div>
<div class="ttc" id="group__defmethod_html_gaa7bed88640f01bee619f85fda09d28d7"><div class="ttname"><a href="../../d7/d19/group__defmethod.html#gaa7bed88640f01bee619f85fda09d28d7">rb_scan_args</a></div><div class="ttdeci">int rb_scan_args(int argc, const VALUE *argv, const char *fmt,...)</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d0c/class_8c_source.html#l01908">class.c:1908</a></div></div>
<div class="ttc" id="ruby_2ruby_8h_html_a40c9add9d28c6327b4d683101ab1a030"><div class="ttname"><a href="../../de/de6/ruby_2ruby_8h.html#a40c9add9d28c6327b4d683101ab1a030">T_IMEMO</a></div><div class="ttdeci">#define T_IMEMO</div><div class="ttdef"><b>Definition:</b> <a href="../../de/de6/ruby_2ruby_8h_source.html#l00511">ruby.h:511</a></div></div>
<div class="ttc" id="array_8c_html_af3085ceab406e3f4f4b90f383c440d6a"><div class="ttname"><a href="../../dc/dcc/array_8c.html#af3085ceab406e3f4f4b90f383c440d6a">rb_assoc_new</a></div><div class="ttdeci">VALUE rb_assoc_new(VALUE car, VALUE cdr)</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/dcc/array_8c_source.html#l00639">array.c:639</a></div></div>
<div class="ttc" id="ruby_2ruby_8h_html_a8e362fd0b6f28e246f5d689a4b5ee1b8"><div class="ttname"><a href="../../de/de6/ruby_2ruby_8h.html#a8e362fd0b6f28e246f5d689a4b5ee1b8">PRIsVALUE</a></div><div class="ttdeci">#define PRIsVALUE</div><div class="ttdef"><b>Definition:</b> <a href="../../de/de6/ruby_2ruby_8h_source.html#l00135">ruby.h:135</a></div></div>
<div class="ttc" id="internal_8h_html"><div class="ttname"><a href="../../db/dde/internal_8h.html">internal.h</a></div></div>
<div class="ttc" id="ruby_2ruby_8h_html_afa5b9137f051ac26d7ccc8824f178233"><div class="ttname"><a href="../../de/de6/ruby_2ruby_8h.html#afa5b9137f051ac26d7ccc8824f178233">ID</a></div><div class="ttdeci">unsigned long ID</div><div class="ttdef"><b>Definition:</b> <a href="../../de/de6/ruby_2ruby_8h_source.html#l00086">ruby.h:86</a></div></div>
<div class="ttc" id="group__object_html_ga6d967c0f84c618bc68dacd45fce2826e"><div class="ttname"><a href="../../d8/d36/group__object.html#ga6d967c0f84c618bc68dacd45fce2826e">rb_obj_frozen_p</a></div><div class="ttdeci">VALUE rb_obj_frozen_p(VALUE obj)</div><div class="ttdoc">call-seq: obj.frozen? -&gt; true or false </div><div class="ttdef"><b>Definition:</b> <a href="../../d0/de1/object_8c_source.html#l01360">object.c:1360</a></div></div>
<div class="ttc" id="ruby_2ruby_8h_html_aba03c3c4ff187bbda6c4459e2dc9f6c6"><div class="ttname"><a href="../../de/de6/ruby_2ruby_8h.html#aba03c3c4ff187bbda6c4459e2dc9f6c6">Qnil</a></div><div class="ttdeci">#define Qnil</div><div class="ttdef"><b>Definition:</b> <a href="../../de/de6/ruby_2ruby_8h_source.html#l00438">ruby.h:438</a></div></div>
<div class="ttc" id="vm__core_8h_html"><div class="ttname"><a href="../../d8/d32/vm__core_8h.html">vm_core.h</a></div></div>
<div class="ttc" id="ruby_2ruby_8h_html_aee74f540353cd2d77d1cb37a3714bd7d"><div class="ttname"><a href="../../de/de6/ruby_2ruby_8h.html#aee74f540353cd2d77d1cb37a3714bd7d">BUILTIN_TYPE</a></div><div class="ttdeci">#define BUILTIN_TYPE(x)</div><div class="ttdef"><b>Definition:</b> <a href="../../de/de6/ruby_2ruby_8h_source.html#l00518">ruby.h:518</a></div></div>
<div class="ttc" id="ruby_2ruby_8h_html_a3c1d4bfc6a81af60bdcb48744c35f760"><div class="ttname"><a href="../../de/de6/ruby_2ruby_8h.html#a3c1d4bfc6a81af60bdcb48744c35f760">VALUE</a></div><div class="ttdeci">unsigned long VALUE</div><div class="ttdef"><b>Definition:</b> <a href="../../de/de6/ruby_2ruby_8h_source.html#l00085">ruby.h:85</a></div></div>
<div class="ttc" id="ruby_2ruby_8h_html_a1d4c05021aacd8cab989ff60f95ebe2d"><div class="ttname"><a href="../../de/de6/ruby_2ruby_8h.html#a1d4c05021aacd8cab989ff60f95ebe2d">RBASIC</a></div><div class="ttdeci">#define RBASIC(obj)</div><div class="ttdef"><b>Definition:</b> <a href="../../de/de6/ruby_2ruby_8h_source.html#l01197">ruby.h:1197</a></div></div>
<div class="ttc" id="ruby_2ruby_8h_html_afd98e957d0d96017f7a07dd83772fadc"><div class="ttname"><a href="../../de/de6/ruby_2ruby_8h.html#afd98e957d0d96017f7a07dd83772fadc">rb_class2name</a></div><div class="ttdeci">const char * rb_class2name(VALUE)</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d2a/variable_8c_source.html#l00450">variable.c:450</a></div></div>
<div class="ttc" id="ruby_2ruby_8h_html_a8d309634655c99bf1bc617720c068407a903967fc49acc3fa70b905e7dbd20ff5"><div class="ttname"><a href="../../de/de6/ruby_2ruby_8h.html#a8d309634655c99bf1bc617720c068407a903967fc49acc3fa70b905e7dbd20ff5">RARRAY_EMBED_FLAG</a></div><div class="ttdef"><b>Definition:</b> <a href="../../de/de6/ruby_2ruby_8h_source.html#l00991">ruby.h:991</a></div></div>
<div class="ttc" id="ruby_2ruby_8h_html_a0af9eeda7cbbff1e245b671f788d2df8"><div class="ttname"><a href="../../de/de6/ruby_2ruby_8h.html#a0af9eeda7cbbff1e245b671f788d2df8">rb_id2name</a></div><div class="ttdeci">const char * rb_id2name(ID)</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d87/symbol_8c_source.html#l00751">symbol.c:751</a></div></div>
<div class="ttc" id="objspace__dump_8c_html_a2efd19ca2491832391006425af2c8ecb"><div class="ttname"><a href="../../d5/d05/objspace__dump_8c.html#a2efd19ca2491832391006425af2c8ecb">Init_objspace_dump</a></div><div class="ttdeci">void Init_objspace_dump(VALUE rb_mObjSpace)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d05/objspace__dump_8c_source.html#l00500">objspace_dump.c:500</a></div></div>
<div class="ttc" id="intern_8h_html_a2b9cc485b0aa1dc270744b8b9eb47569"><div class="ttname"><a href="../../db/d2e/intern_8h.html#a2b9cc485b0aa1dc270744b8b9eb47569">rb_str_new_cstr</a></div><div class="ttdeci">VALUE rb_str_new_cstr(const char *)</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/db0/string_8c_source.html#l00771">string.c:771</a></div></div>
<div class="ttc" id="encoding_8h_html_ae5ff9694c99a5306a9415ac51e8c4faa"><div class="ttname"><a href="../../d5/de3/encoding_8h.html#ae5ff9694c99a5306a9415ac51e8c4faa">ENCODING_IS_ASCII8BIT</a></div><div class="ttdeci">#define ENCODING_IS_ASCII8BIT(obj)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/de3/encoding_8h_source.html#l00059">encoding.h:59</a></div></div>
<div class="ttc" id="ruby_2ruby_8h_html_ac167240ec598e32f5ff3cdb902fb98b9"><div class="ttname"><a href="../../de/de6/ruby_2ruby_8h.html#ac167240ec598e32f5ff3cdb902fb98b9">RTYPEDDATA_P</a></div><div class="ttdeci">#define RTYPEDDATA_P(v)</div><div class="ttdef"><b>Definition:</b> <a href="../../de/de6/ruby_2ruby_8h_source.html#l01108">ruby.h:1108</a></div></div>
<div class="ttc" id="console_8c_html_a1aca885823d8c12fc1c51915465aa50f"><div class="ttname"><a href="../../d0/d56/console_8c.html#a1aca885823d8c12fc1c51915465aa50f">rb_funcallv</a></div><div class="ttdeci">#define rb_funcallv</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d56/console_8c_source.html#l00021">console.c:21</a></div></div>
<div class="ttc" id="structdump__config_html_a031075edc085d86ae40ccb01bacd57b2"><div class="ttname"><a href="../../d3/d94/structdump__config.html#a031075edc085d86ae40ccb01bacd57b2">dump_config::type</a></div><div class="ttdeci">VALUE type</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d05/objspace__dump_8c_source.html#l00027">objspace_dump.c:27</a></div></div>
<div class="ttc" id="structdump__config_html"><div class="ttname"><a href="../../d3/d94/structdump__config.html">dump_config</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d05/objspace__dump_8c_source.html#l00026">objspace_dump.c:26</a></div></div>
<div class="ttc" id="ruby_2ruby_8h_html_a3f0e4e2b6d073369cc1c2ddde00b13bb"><div class="ttname"><a href="../../de/de6/ruby_2ruby_8h.html#a3f0e4e2b6d073369cc1c2ddde00b13bb">RSTRING_PTR</a></div><div class="ttdeci">#define RSTRING_PTR(str)</div><div class="ttdef"><b>Definition:</b> <a href="../../de/de6/ruby_2ruby_8h_source.html#l00975">ruby.h:975</a></div></div>
<div class="ttc" id="object__tracing_8c_html_aa31656ab469a99471e199605c8c7a588"><div class="ttname"><a href="../../dd/dc9/object__tracing_8c.html#aa31656ab469a99471e199605c8c7a588">objspace_lookup_allocation_info</a></div><div class="ttdeci">struct allocation_info * objspace_lookup_allocation_info(VALUE obj)</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/dc9/object__tracing_8c_source.html#l00333">object_tracing.c:333</a></div></div>
<div class="ttc" id="encoding_8h_html_a6ba07266a084d7a480377f1472aabfd8"><div class="ttname"><a href="../../d5/de3/encoding_8h.html#a6ba07266a084d7a480377f1472aabfd8">ENCODING_GET</a></div><div class="ttdeci">#define ENCODING_GET(obj)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/de3/encoding_8h_source.html#l00058">encoding.h:58</a></div></div>
<div class="ttc" id="ruby_2ruby_8h_html_aa7311e0d10f373b0bb50c41522dc3981"><div class="ttname"><a href="../../de/de6/ruby_2ruby_8h.html#aa7311e0d10f373b0bb50c41522dc3981">RFLOAT_VALUE</a></div><div class="ttdeci">#define RFLOAT_VALUE(v)</div><div class="ttdef"><b>Definition:</b> <a href="../../de/de6/ruby_2ruby_8h_source.html#l00933">ruby.h:933</a></div></div>
<div class="ttc" id="hash_8c_html_a2c487a168f8d6238fb47a4e5f20ef4d2"><div class="ttname"><a href="../../d1/d04/hash_8c.html#a2c487a168f8d6238fb47a4e5f20ef4d2">rb_hash_lookup2</a></div><div class="ttdeci">VALUE rb_hash_lookup2(VALUE hash, VALUE key, VALUE def)</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d04/hash_8c_source.html#l00842">hash.c:842</a></div></div>
<div class="ttc" id="structallocation__info_html_ad0b371ae1bcffb1b41be0da241473264"><div class="ttname"><a href="../../d6/d88/structallocation__info.html#ad0b371ae1bcffb1b41be0da241473264">allocation_info::mid</a></div><div class="ttdeci">VALUE mid</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/dec/objspace_8h_source.html#l00015">objspace.h:15</a></div></div>
<div class="ttc" id="gc_8c_html_a7547215fb9ca1da308d9628a45c57120"><div class="ttname"><a href="../../d8/d16/gc_8c.html#a7547215fb9ca1da308d9628a45c57120">rb_objspace_reachable_objects_from</a></div><div class="ttdeci">void rb_objspace_reachable_objects_from(VALUE obj, void(func)(VALUE, void *), void *data)</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d16/gc_8c_source.html#l07599">gc.c:7599</a></div></div>
<div class="ttc" id="ruby_2ruby_8h_html_ae374b528d42829890e7debf50cc0730a"><div class="ttname"><a href="../../de/de6/ruby_2ruby_8h.html#ae374b528d42829890e7debf50cc0730a">RBASIC_CLASS</a></div><div class="ttdeci">#define RBASIC_CLASS(obj)</div><div class="ttdef"><b>Definition:</b> <a href="../../de/de6/ruby_2ruby_8h_source.html#l00878">ruby.h:878</a></div></div>
<div class="ttc" id="hash_8c_html_ab7063832c7ed02351e87922a78e35c32"><div class="ttname"><a href="../../d1/d04/hash_8c.html#ab7063832c7ed02351e87922a78e35c32">rb_hash_aref</a></div><div class="ttdeci">VALUE rb_hash_aref(VALUE hash, VALUE key)</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d04/hash_8c_source.html#l00831">hash.c:831</a></div></div>
<div class="ttc" id="iseq_8c_html_a818834c71f4a58f5bd7f0aa142d1b069"><div class="ttname"><a href="../../dd/d74/iseq_8c.html#a818834c71f4a58f5bd7f0aa142d1b069">ruby_node_name</a></div><div class="ttdeci">const char * ruby_node_name(int node)</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d74/iseq_8c_source.html#l01767">iseq.c:1767</a></div></div>
<div class="ttc" id="ruby_2ruby_8h_html_a117741045763c090b26e30a85bd0e0a6"><div class="ttname"><a href="../../de/de6/ruby_2ruby_8h.html#a117741045763c090b26e30a85bd0e0a6">RTEST</a></div><div class="ttdeci">#define RTEST(v)</div><div class="ttdef"><b>Definition:</b> <a href="../../de/de6/ruby_2ruby_8h_source.html#l00450">ruby.h:450</a></div></div>
<div class="ttc" id="ruby_2ruby_8h_html_a22a8c2a4bbaae9b68f65c9bb92fd4e39"><div class="ttname"><a href="../../de/de6/ruby_2ruby_8h.html#a22a8c2a4bbaae9b68f65c9bb92fd4e39">T_STRING</a></div><div class="ttdeci">#define T_STRING</div><div class="ttdef"><b>Definition:</b> <a href="../../de/de6/ruby_2ruby_8h_source.html#l00496">ruby.h:496</a></div></div>
<div class="ttc" id="ruby_2ruby_8h_html_a2b7b0557dc6cd786df02dafbb51f5292"><div class="ttname"><a href="../../de/de6/ruby_2ruby_8h.html#a2b7b0557dc6cd786df02dafbb51f5292">PRIuSIZE</a></div><div class="ttdeci">#define PRIuSIZE</div><div class="ttdef"><b>Definition:</b> <a href="../../de/de6/ruby_2ruby_8h_source.html#l00177">ruby.h:177</a></div></div>
<div class="ttc" id="string_8c_html_a55d6c2547d6412f130174bd6d76b6391"><div class="ttname"><a href="../../d1/db0/string_8c.html#a55d6c2547d6412f130174bd6d76b6391">rb_str_capacity</a></div><div class="ttdeci">size_t rb_str_capacity(VALUE str)</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/db0/string_8c_source.html#l00675">string.c:675</a></div></div>
<div class="ttc" id="ruby_2ruby_8h_html_a0a8afbed81f5fb3930e9d153fbd51737"><div class="ttname"><a href="../../de/de6/ruby_2ruby_8h.html#a0a8afbed81f5fb3930e9d153fbd51737">T_FILE</a></div><div class="ttdeci">#define T_FILE</div><div class="ttdef"><b>Definition:</b> <a href="../../de/de6/ruby_2ruby_8h_source.html#l00502">ruby.h:502</a></div></div>
<div class="ttc" id="io_8h_html_a5a0d6757d5f6624ea43d72323e1cb76f"><div class="ttname"><a href="../../dc/dac/io_8h.html#a5a0d6757d5f6624ea43d72323e1cb76f">rb_io_stdio_file</a></div><div class="ttdeci">FILE * rb_io_stdio_file(rb_io_t *fptr)</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d0a/io_8c_source.html#l07676">io.c:7676</a></div></div>
<div class="ttc" id="ruby_2ruby_8h_html_ad04c63d175774c6d6e7dfaf0f0a982c9"><div class="ttname"><a href="../../de/de6/ruby_2ruby_8h.html#ad04c63d175774c6d6e7dfaf0f0a982c9">T_CLASS</a></div><div class="ttdeci">#define T_CLASS</div><div class="ttdef"><b>Definition:</b> <a href="../../de/de6/ruby_2ruby_8h_source.html#l00492">ruby.h:492</a></div></div>
<div class="ttc" id="ruby_2ruby_8h_html_a4ef7b7ff907d043bd989a7e73e1da420"><div class="ttname"><a href="../../de/de6/ruby_2ruby_8h.html#a4ef7b7ff907d043bd989a7e73e1da420">ID2SYM</a></div><div class="ttdeci">#define ID2SYM(x)</div><div class="ttdef"><b>Definition:</b> <a href="../../de/de6/ruby_2ruby_8h_source.html#l00383">ruby.h:383</a></div></div>
<div class="ttc" id="internal_8h_html_aaca65e5fb338de799690f580d6fcbb50"><div class="ttname"><a href="../../db/dde/internal_8h.html#aaca65e5fb338de799690f580d6fcbb50">imemo_type</a></div><div class="ttdeci">imemo_type</div><div class="ttdef"><b>Definition:</b> <a href="../../db/dde/internal_8h_source.html#l00838">internal.h:838</a></div></div>
<div class="ttc" id="objspace__dump_8c_html_a1d40db9fddb159101c275ff897073218"><div class="ttname"><a href="../../d5/d05/objspace__dump_8c.html#a1d40db9fddb159101c275ff897073218">CASE_TYPE</a></div><div class="ttdeci">#define CASE_TYPE(type)</div></div>
<div class="ttc" id="ruby_2ruby_8h_html_ac59489a7ed093e29019047d13e79c009"><div class="ttname"><a href="../../de/de6/ruby_2ruby_8h.html#ac59489a7ed093e29019047d13e79c009">SPECIAL_CONST_P</a></div><div class="ttdeci">#define SPECIAL_CONST_P(x)</div><div class="ttdef"><b>Definition:</b> <a href="../../de/de6/ruby_2ruby_8h_source.html#l01242">ruby.h:1242</a></div></div>
<div class="ttc" id="group__class_html_ga911071d40f9312e49a774ea0e1b12869"><div class="ttname"><a href="../../de/ddf/group__class.html#ga911071d40f9312e49a774ea0e1b12869">rb_define_module</a></div><div class="ttdeci">VALUE rb_define_module(const char *name)</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d0c/class_8c_source.html#l00768">class.c:768</a></div></div>
<div class="ttc" id="array_8c_html_a9cfa42d4b79c89d68c53be8b2150a503"><div class="ttname"><a href="../../dc/dcc/array_8c.html#a9cfa42d4b79c89d68c53be8b2150a503">rb_intern</a></div><div class="ttdeci">#define rb_intern(str)</div></div>
<div class="ttc" id="ruby_2ruby_8h_html_ab80c70472770bcae8d33bbf6139262d0"><div class="ttname"><a href="../../de/de6/ruby_2ruby_8h.html#ab80c70472770bcae8d33bbf6139262d0">T_ZOMBIE</a></div><div class="ttdeci">#define T_ZOMBIE</div><div class="ttdef"><b>Definition:</b> <a href="../../de/de6/ruby_2ruby_8h_source.html#l00514">ruby.h:514</a></div></div>
<div class="ttc" id="structallocation__info_html"><div class="ttname"><a href="../../d6/d88/structallocation__info.html">allocation_info</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d4/dec/objspace_8h_source.html#l00005">objspace.h:5</a></div></div>
<div class="ttc" id="ruby_2ruby_8h_html_acc70817286a1286e1d8dea44a00f19c7"><div class="ttname"><a href="../../de/de6/ruby_2ruby_8h.html#acc70817286a1286e1d8dea44a00f19c7">SYMBOL_P</a></div><div class="ttdeci">#define SYMBOL_P(x)</div><div class="ttdef"><b>Definition:</b> <a href="../../de/de6/ruby_2ruby_8h_source.html#l00382">ruby.h:382</a></div></div>
<div class="ttc" id="structdump__config_html_a0d2e0f40a08fca6817e9b10b9b63b992"><div class="ttname"><a href="../../d3/d94/structdump__config.html#a0d2e0f40a08fca6817e9b10b9b63b992">dump_config::cur_obj_references</a></div><div class="ttdeci">size_t cur_obj_references</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d05/objspace__dump_8c_source.html#l00034">objspace_dump.c:34</a></div></div>
<div class="ttc" id="structallocation__info_html_a10dd5fb317616095f322389052441aed"><div class="ttname"><a href="../../d6/d88/structallocation__info.html#a10dd5fb317616095f322389052441aed">allocation_info::flags</a></div><div class="ttdeci">VALUE flags</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/dec/objspace_8h_source.html#l00008">objspace.h:8</a></div></div>
<div class="ttc" id="ruby_2ruby_8h_html_a5efefe46b598af6f98c691fead03682d"><div class="ttname"><a href="../../de/de6/ruby_2ruby_8h.html#a5efefe46b598af6f98c691fead03682d">T_NONE</a></div><div class="ttdeci">#define T_NONE</div><div class="ttdef"><b>Definition:</b> <a href="../../de/de6/ruby_2ruby_8h_source.html#l00489">ruby.h:489</a></div></div>
<div class="ttc" id="win32_8c_html_af973ca20f6594ad664c03daa83867128"><div class="ttname"><a href="../../d5/df2/win32_8c.html#af973ca20f6594ad664c03daa83867128">env</a></div><div class="ttdeci">#define env</div></div>
<div class="ttc" id="__sdbm_8c_html_a070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="../../d4/db0/__sdbm_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/db0/__sdbm_8c_source.html#l00102">_sdbm.c:102</a></div></div>
<div class="ttc" id="ruby_2ruby_8h_html_aa7423675bf99068c658e91a4ba55016c"><div class="ttname"><a href="../../de/de6/ruby_2ruby_8h.html#aa7423675bf99068c658e91a4ba55016c">RTYPEDDATA_TYPE</a></div><div class="ttdeci">#define RTYPEDDATA_TYPE(v)</div><div class="ttdef"><b>Definition:</b> <a href="../../de/de6/ruby_2ruby_8h_source.html#l01109">ruby.h:1109</a></div></div>
<div class="ttc" id="ruby_2ruby_8h_html_ae9390780cd6d04a2e0ac3d6282cdefea"><div class="ttname"><a href="../../de/de6/ruby_2ruby_8h.html#ae9390780cd6d04a2e0ac3d6282cdefea">FIX2LONG</a></div><div class="ttdeci">#define FIX2LONG(x)</div><div class="ttdef"><b>Definition:</b> <a href="../../de/de6/ruby_2ruby_8h_source.html#l00363">ruby.h:363</a></div></div>
<div class="ttc" id="structallocation__info_html_a8c57e9b457daa3df5ac94533421ae236"><div class="ttname"><a href="../../d6/d88/structallocation__info.html#a8c57e9b457daa3df5ac94533421ae236">allocation_info::path</a></div><div class="ttdeci">const char * path</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/dec/objspace_8h_source.html#l00012">objspace.h:12</a></div></div>
<div class="ttc" id="objspace_8h_html"><div class="ttname"><a href="../../d4/dec/objspace_8h.html">objspace.h</a></div></div>
<div class="ttc" id="internal_8h_html_a0823acc422a6a849b53cf3ae0465b543"><div class="ttname"><a href="../../db/dde/internal_8h.html#a0823acc422a6a849b53cf3ae0465b543">STR_EMBED_P</a></div><div class="ttdeci">#define STR_EMBED_P(str)</div><div class="ttdef"><b>Definition:</b> <a href="../../db/dde/internal_8h_source.html#l01652">internal.h:1652</a></div></div>
<div class="ttc" id="ruby_2ruby_8h_html_ad208003f505ffadbfcc5c442486176eea24327f8058e488c0dc3ac93847d49356"><div class="ttname"><a href="../../de/de6/ruby_2ruby_8h.html#ad208003f505ffadbfcc5c442486176eea24327f8058e488c0dc3ac93847d49356">RSTRING_FSTR</a></div><div class="ttdef"><b>Definition:</b> <a href="../../de/de6/ruby_2ruby_8h_source.html#l00950">ruby.h:950</a></div></div>
<div class="ttc" id="ruby_8c_html_af2efa898e9eed6fe6715279cb1ec35b0"><div class="ttname"><a href="../../df/d77/ruby_8c.html#af2efa898e9eed6fe6715279cb1ec35b0">argv</a></div><div class="ttdeci">char ** argv</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d77/ruby_8c_source.html#l00188">ruby.c:188</a></div></div>
<div class="ttc" id="encoding_8c_html_aef9c377b2d9d78b9f88e890b77593109"><div class="ttname"><a href="../../d5/db5/encoding_8c.html#aef9c377b2d9d78b9f88e890b77593109">rb_enc_from_index</a></div><div class="ttdeci">rb_encoding * rb_enc_from_index(int index)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/db5/encoding_8c_source.html#l00616">encoding.c:616</a></div></div>
<div class="ttc" id="console_8c_html_aed3506ff57e9d594a87b84e02d32b55b"><div class="ttname"><a href="../../d0/d56/console_8c.html#aed3506ff57e9d594a87b84e02d32b55b">rb_sym2str</a></div><div class="ttdeci">#define rb_sym2str(sym)</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d56/console_8c_source.html#l00107">console.c:107</a></div></div>
</div><!-- fragment --></div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="../../doxygen.png" alt="doxygen"/>
</a> 1.8.13
</small></address>
</body>
</html>
